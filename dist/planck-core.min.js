!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(r.Planck=r.Planck||{})}(this,function(r){"use strict";function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=Symbol(r);return function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(r){return r};return void 0===r[e]&&(r[e]=t({})),r[e]}}function t(r){this.message=r}function n(r){var e=void 0,t=void 0;if("string"==typeof r?(t=r,e=r):e=r[t=Object.keys(r)[0]],process.browser)return L.self[e];if("node"===L.type)try{return require(t)}catch(r){}}function o(r){try{return n(r)}catch(r){L.self.process={browser:"node"!==L.type}}return n(r)}function i(r,e){return e={exports:{}},r(e,e.exports),e.exports}function u(){switch(L.type){case"browser":var r=document.currentScript||document._currentScript;return r&&r.src||void 0;case"worker":return self.location.href;case"node":return __filename}}function a(r){return!!r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)}function s(r){return"function"==typeof r.readFloatLE&&"function"==typeof r.slice&&a(r.slice(0,0))}function f(r){return pr.lastIndex=0,pr.test(r)?'"'+r.replace(pr,function(r){var e=hr[r];return"string"==typeof e?e:"\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+r+'"'}function c(r,e){var t,n,o,i,u,a=fr,s=e[r];switch(s&&"object"===(void 0===s?"undefined":O(s))&&"function"==typeof s.toJSON&&(s=s.toJSON(r)),"function"==typeof lr&&(s=lr.call(e,r,s)),void 0===s?"undefined":O(s)){case"string":return f(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(fr+=cr,u=[],"[object Array]"===Object.prototype.toString.apply(s)){for(i=s.length,t=0;t<i;t+=1)u[t]=c(t,s)||"null";return o=0===u.length?"[]":fr?"[\n"+fr+u.join(",\n"+fr)+"\n"+a+"]":"["+u.join(",")+"]",fr=a,o}if(lr&&"object"===(void 0===lr?"undefined":O(lr)))for(i=lr.length,t=0;t<i;t+=1)"string"==typeof(n=lr[t])&&(o=c(n,s))&&u.push(f(n)+(fr?": ":":")+o);else for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(o=c(n,s))&&u.push(f(n)+(fr?": ":":")+o);return o=0===u.length?"{}":fr?"{\n"+fr+u.join(",\n"+fr)+"\n"+a+"}":"{"+u.join(",")+"}",fr=a,o}}function l(r){this.message=r}function p(r,e,t){return r<e?e:r>t?t:r}function h(r){return new Function("d","return {"+r.map(function(r,e){return JSON.stringify(r)+": d["+e+"]"}).join(",")+"}")}function y(r,e){var t=h(r);return function(n,o){return e(t(n),o,r)}}function v(r){var e=Object.create(null),t=[];return r.forEach(function(r){for(var n in r)n in e||t.push(e[n]=n)}),t}function d(r){return decodeURIComponent(r.replace(/\+/g," "))}function g(r){var e,t={},n=void 0===(r=r||V.location||{})?"undefined":O(r);if("blob:"===r.protocol)t=new w(unescape(r.pathname),{});else if("string"===n){t=new w(r,{});for(e in Pr)delete t[e]}else if("object"===n){for(e in r)e in Pr||(t[e]=r[e]);void 0===t.slashes&&(t.slashes=Tr.test(r.href))}return t}function m(r){var e=Cr.exec(r);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function b(r,e){for(var t=(e||"/").split("/").slice(0,-1).concat(r.split("/")),n=t.length,o=t[n-1],i=!1,u=0;n--;)"."===t[n]?t.splice(n,1):".."===t[n]?(t.splice(n,1),u++):u&&(0===n&&(i=!0),t.splice(n,1),u--);return i&&t.unshift(""),"."!==o&&".."!==o||t.push(""),t.join("/")}function w(r,e,t){if(!(this instanceof w))return new w(r,e,t);var n,o,i,u,a,s,f=qr.slice(),c=void 0===e?"undefined":O(e),l=this,p=0;for("object"!==c&&"string"!==c&&(t=e,e=null),t&&"function"!=typeof t&&(t=kr.parse),e=g(e),n=!(o=m(r||"")).protocol&&!o.slashes,l.slashes=o.slashes||n&&e.slashes,l.protocol=o.protocol||e.protocol||"",r=o.rest,o.slashes||(f[2]=[/(.*)/,"pathname"]);p<f.length;p++)i=(u=f[p])[0],s=u[1],i!==i?l[s]=r:"string"==typeof i?~(a=r.indexOf(i))&&("number"==typeof u[2]?(l[s]=r.slice(0,a),r=r.slice(a+u[2])):(l[s]=r.slice(a),r=r.slice(0,a))):(a=i.exec(r))&&(l[s]=a[1],r=r.slice(0,a.index)),l[s]=l[s]||(n&&u[3]?e[s]||"":""),u[4]&&(l[s]=l[s].toLowerCase());t&&(l.query=t(l.query)),n&&e.slashes&&"/"!==l.pathname.charAt(0)&&(""!==l.pathname||""!==e.pathname)&&(l.pathname=b(l.pathname,e.pathname)),Or(l.port,l.protocol)||(l.host=l.hostname,l.port=""),l.username=l.password="",l.auth&&(u=l.auth.split(":"),l.username=u[0]||"",l.password=u[1]||""),l.origin=l.protocol&&l.host&&"file:"!==l.protocol?l.protocol+"//"+l.host:"null",l.href=l.toString()}function j(r,e){return new Promise(function(t,n){var o=new Ir(r,!0);e.query&&o.set("query",Object.assign({},o.query,e.query));var i=new XMLHttpRequest;i.open("get",o.toString(),!0),e.headers&&Object.entries(e.headers).forEach(function(r){i.setRequestHeader.apply(i,q(r))}),i.responseType=e.type,i.addEventListener("loadend",function(r){i.status<200||i.status>=300?n(i.status):null!==i.response||"json"!==e.type?t(i.response):n(new Error("Could not parse JSON"))},!1),i.send()})}function A(r,e){return e.local?new Promise(function(t,n){Rr(r,e.encoding,function(r,e){r?n(r):t(e)})}):new Promise(function(t,n){Br({url:r,headers:e.headers||{},qs:e.query||{},encoding:e.encoding},function(r,e){r?n(r):((e.statusCode<200||e.statusCode>=300)&&n(e.statusCode),t(e.body))})})}function x(r,e){if("node"===L.type){var t=A(r,e);return"json"===e.type?t.then(function(r){if("string"!=typeof r)throw new Error("Response is unexpectedly not a string");return JSON.parse(r)}):"arraybuffer"===e.type?t.then(function(r){if(!(r instanceof Buffer))throw new Error("Response is unexpectedly not a buffer");for(var e=new ArrayBuffer(r.length),t=new Uint8Array(e),n=0;n<r.length;++n)t[n]=r[n];return e}):t}return j(r,e)}function S(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];var n=e[0],o=e[1];if("string"!=typeof n&&(n=(o=n).url),"string"!=typeof n)throw new Error("The first argument or options.url must be a string");return o=Object.assign({},{type:"text",local:!1,encoding:"utf-8"},o),[n,o]}var O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},E=function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")},k=function(){function r(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),C=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},T=function(){function r(r,e){var t=[],n=!0,o=!1,i=void 0;try{for(var u,a=r[Symbol.iterator]();!(n=(u=a.next()).done)&&(t.push(u.value),!e||t.length!==e);n=!0);}catch(r){o=!0,i=r}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return t}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),q=function(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)},P=e("AggregateFunction"),N=function(){function r(e){if(E(this,r),e!==P)throw new Error;for(var t=P(this),n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];t.targets=o}return k(r,[{key:"apply",value:function(r,e,t){return P(this).targets.map(function(r){return Reflect.apply(r,e,t)})}}],[{key:"new",value:function(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];var n=new(Function.prototype.bind.apply(this,[null].concat([P],e)));return new Proxy(function(){},n)}}]),r}(),I=e("Aggregate"),R=function(){function r(e){if(E(this,r),e!==I)throw new Error;for(var t=I(this),n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];t.targets=o}return k(r,[{key:"set",value:function(r,e,t,n){return I(this).targets.forEach(function(r){Reflect.set(r,e,t)}),Reflect.set(r,e,t,n)}},{key:"get",value:function(r,e,t){var n=I(this);return n.targets.every(function(r){return"function"==typeof Reflect.get(r,e)})?N.new.apply(N,q(n.targets.map(function(r){return Reflect.get(r,e).bind(r)}))):Reflect.get(n.targets[0],e,t)}}],[{key:"new",value:function(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];var n=new(Function.prototype.bind.apply(this,[null].concat([I],e)));return new Proxy({},n)}}]),r}(),B={min:function(r,e){if("function"!=typeof e)return Math.min.apply(Math,q(r));var t=void 0;return r.reduce(function(r,n,o){var i=e(n,o);return r>i?(t=n,i):r},Number.POSITIVE_INFINITY),t},max:function(r,e){if("function"!=typeof e)return Math.max.apply(Math,q(r));var t=void 0;return r.reduce(function(r,n,o){var i=e(n,o);return r<i?(t=n,i):r},Number.NEGATIVE_INFINITY),t}};Object.setPrototypeOf(t,Error),(t.prototype=Object.create(Error.prototype)).name="AssertionError",t.prototype.message="",t.prototype.constructor=t;var M=function(){try{if(new Function("return this === window")())return"browser"}catch(r){}try{if(new Function("return this === self")())return"worker"}catch(r){}try{if(new Function("return this === global")())return"node"}catch(r){}}(),_=void 0;switch(M){case"browser":_=window;break;case"worker":_=self;break;case"node":_=global}var F,z,J,U,L={type:M,self:_},H={optional:function(r){var e=o(r);return void 0===e?{}:e},required:function(r){var e=o(r);if(void 0===e)throw"node"===L.type?new Error('Could not resolve module "'+r+'"'):new Error('"'+r+'" isn’t defined in the global scope');return e},browser:function(r){var e=o(r);if(void 0===e){if("node"!==L.type)throw new Error('"'+r+'" isn’t defined in the global scope');return{}}return e},node:function(r){var e=o(r);if(void 0===e){if("node"===L.type)throw new Error('Could not resolve module "'+r+'"');return{}}return e}},V="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},D=i(function(r,e){function t(r,e){for(var t=0,n=r.length-1;n>=0;n--){var o=r[n];"."===o?r.splice(n,1):".."===o?(r.splice(n,1),t++):t&&(r.splice(n,1),t--)}if(e)for(;t--;t)r.unshift("..");return r}function n(r,e){if(r.filter)return r.filter(e);for(var t=[],n=0;n<r.length;n++)e(r[n],n,r)&&t.push(r[n]);return t}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(r){return o.exec(r).slice(1)};e.resolve=function(){for(var r="",e=!1,o=arguments.length-1;o>=-1&&!e;o--){var i=o>=0?arguments[o]:process.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(r=i+"/"+r,e="/"===i.charAt(0))}return r=t(n(r.split("/"),function(r){return!!r}),!e).join("/"),(e?"/":"")+r||"."},e.normalize=function(r){var o=e.isAbsolute(r),i="/"===u(r,-1);return(r=t(n(r.split("/"),function(r){return!!r}),!o).join("/"))||o||(r="."),r&&i&&(r+="/"),(o?"/":"")+r},e.isAbsolute=function(r){return"/"===r.charAt(0)},e.join=function(){var r=Array.prototype.slice.call(arguments,0);return e.normalize(n(r,function(r,e){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},e.relative=function(r,t){function n(r){for(var e=0;e<r.length&&""===r[e];e++);for(var t=r.length-1;t>=0&&""===r[t];t--);return e>t?[]:r.slice(e,t-e+1)}r=e.resolve(r).substr(1),t=e.resolve(t).substr(1);for(var o=n(r.split("/")),i=n(t.split("/")),u=Math.min(o.length,i.length),a=u,s=0;s<u;s++)if(o[s]!==i[s]){a=s;break}for(var f=[],s=a;s<o.length;s++)f.push("..");return(f=f.concat(i.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(r){var e=i(r),t=e[0],n=e[1];return t||n?(n&&(n=n.substr(0,n.length-1)),t+n):"."},e.basename=function(r,e){var t=i(r)[2];return e&&t.substr(-1*e.length)===e&&(t=t.substr(0,t.length-e.length)),t},e.extname=function(r){return i(r)[3]};var u="b"==="ab".substr(-1)?function(r,e,t){return r.substr(e,t)}:function(r,e,t){return e<0&&(e=r.length+e),r.substr(e,t)}}),Z=H.node("path"),W=void 0,Y=C({self:u(),get current(){return u()}},W="node"===L.type?{resolve:Z.resolve,normalize:Z.normalize,join:Z.join,relative:Z.relative,dirname:Z.dirname,basename:Z.basename,extname:Z.extname,separator:Z.sep,delimiter:Z.delimiter}:{resolve:function(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];return D.resolve.apply(D,["/"].concat(e))},normalize:D.normalize,join:D.join,relative:D.relative,dirname:D.dirname,basename:D.basename,extname:D.extname,separator:D.sep,delimiter:D.delimiter}),$=i(function(r){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(r,e){return r<<e|r>>>32-e},rotr:function(r,e){return r<<32-e|r>>>e},endian:function(r){if(r.constructor==Number)return 16711935&t.rotl(r,8)|4278255360&t.rotl(r,24);for(var e=0;e<r.length;e++)r[e]=t.endian(r[e]);return r},randomBytes:function(r){for(var e=[];r>0;r--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(r){for(var e=[],t=0,n=0;t<r.length;t++,n+=8)e[n>>>5]|=r[t]<<24-n%32;return e},wordsToBytes:function(r){for(var e=[],t=0;t<32*r.length;t+=8)e.push(r[t>>>5]>>>24-t%32&255);return e},bytesToHex:function(r){for(var e=[],t=0;t<r.length;t++)e.push((r[t]>>>4).toString(16)),e.push((15&r[t]).toString(16));return e.join("")},hexToBytes:function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(parseInt(r.substr(t,2),16));return e},bytesToBase64:function(r){for(var t=[],n=0;n<r.length;n+=3)for(var o=r[n]<<16|r[n+1]<<8|r[n+2],i=0;i<4;i++)8*n+6*i<=8*r.length?t.push(e.charAt(o>>>6*(3-i)&63)):t.push("=");return t.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,o=0;n<r.length;o=++n%4)0!=o&&t.push((e.indexOf(r.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(r.charAt(n))>>>6-2*o);return t}};r.exports=t}()}),G={utf8:{stringToBytes:function(r){return G.bin.stringToBytes(unescape(encodeURIComponent(r)))},bytesToString:function(r){return decodeURIComponent(escape(G.bin.bytesToString(r)))}},bin:{stringToBytes:function(r){for(var e=[],t=0;t<r.length;t++)e.push(255&r.charCodeAt(t));return e},bytesToString:function(r){for(var e=[],t=0;t<r.length;t++)e.push(String.fromCharCode(r[t]));return e.join("")}}},X=G,K=function(r){return null!=r&&(a(r)||s(r)||!!r._isBuffer)},Q=i(function(r){!function(){var e=$,t=X.utf8,n=K,o=X.bin,i=function r(i,u){i.constructor==String?i=u&&"binary"===u.encoding?o.stringToBytes(i):t.stringToBytes(i):n(i)?i=Array.prototype.slice.call(i,0):Array.isArray(i)||(i=i.toString());for(var a=e.bytesToWords(i),s=8*i.length,f=1732584193,c=-271733879,l=-1732584194,p=271733878,h=0;h<a.length;h++)a[h]=16711935&(a[h]<<8|a[h]>>>24)|4278255360&(a[h]<<24|a[h]>>>8);a[s>>>5]|=128<<s%32,a[14+(s+64>>>9<<4)]=s;for(var y=r._ff,v=r._gg,d=r._hh,g=r._ii,h=0;h<a.length;h+=16){var m=f,b=c,w=l,j=p;c=g(c=g(c=g(c=g(c=d(c=d(c=d(c=d(c=v(c=v(c=v(c=v(c=y(c=y(c=y(c=y(c,l=y(l,p=y(p,f=y(f,c,l,p,a[h+0],7,-680876936),c,l,a[h+1],12,-389564586),f,c,a[h+2],17,606105819),p,f,a[h+3],22,-1044525330),l=y(l,p=y(p,f=y(f,c,l,p,a[h+4],7,-176418897),c,l,a[h+5],12,1200080426),f,c,a[h+6],17,-1473231341),p,f,a[h+7],22,-45705983),l=y(l,p=y(p,f=y(f,c,l,p,a[h+8],7,1770035416),c,l,a[h+9],12,-1958414417),f,c,a[h+10],17,-42063),p,f,a[h+11],22,-1990404162),l=y(l,p=y(p,f=y(f,c,l,p,a[h+12],7,1804603682),c,l,a[h+13],12,-40341101),f,c,a[h+14],17,-1502002290),p,f,a[h+15],22,1236535329),l=v(l,p=v(p,f=v(f,c,l,p,a[h+1],5,-165796510),c,l,a[h+6],9,-1069501632),f,c,a[h+11],14,643717713),p,f,a[h+0],20,-373897302),l=v(l,p=v(p,f=v(f,c,l,p,a[h+5],5,-701558691),c,l,a[h+10],9,38016083),f,c,a[h+15],14,-660478335),p,f,a[h+4],20,-405537848),l=v(l,p=v(p,f=v(f,c,l,p,a[h+9],5,568446438),c,l,a[h+14],9,-1019803690),f,c,a[h+3],14,-187363961),p,f,a[h+8],20,1163531501),l=v(l,p=v(p,f=v(f,c,l,p,a[h+13],5,-1444681467),c,l,a[h+2],9,-51403784),f,c,a[h+7],14,1735328473),p,f,a[h+12],20,-1926607734),l=d(l,p=d(p,f=d(f,c,l,p,a[h+5],4,-378558),c,l,a[h+8],11,-2022574463),f,c,a[h+11],16,1839030562),p,f,a[h+14],23,-35309556),l=d(l,p=d(p,f=d(f,c,l,p,a[h+1],4,-1530992060),c,l,a[h+4],11,1272893353),f,c,a[h+7],16,-155497632),p,f,a[h+10],23,-1094730640),l=d(l,p=d(p,f=d(f,c,l,p,a[h+13],4,681279174),c,l,a[h+0],11,-358537222),f,c,a[h+3],16,-722521979),p,f,a[h+6],23,76029189),l=d(l,p=d(p,f=d(f,c,l,p,a[h+9],4,-640364487),c,l,a[h+12],11,-421815835),f,c,a[h+15],16,530742520),p,f,a[h+2],23,-995338651),l=g(l,p=g(p,f=g(f,c,l,p,a[h+0],6,-198630844),c,l,a[h+7],10,1126891415),f,c,a[h+14],15,-1416354905),p,f,a[h+5],21,-57434055),l=g(l,p=g(p,f=g(f,c,l,p,a[h+12],6,1700485571),c,l,a[h+3],10,-1894986606),f,c,a[h+10],15,-1051523),p,f,a[h+1],21,-2054922799),l=g(l,p=g(p,f=g(f,c,l,p,a[h+8],6,1873313359),c,l,a[h+15],10,-30611744),f,c,a[h+6],15,-1560198380),p,f,a[h+13],21,1309151649),l=g(l,p=g(p,f=g(f,c,l,p,a[h+4],6,-145523070),c,l,a[h+11],10,-1120210379),f,c,a[h+2],15,718787259),p,f,a[h+9],21,-343485551),f=f+m>>>0,c=c+b>>>0,l=l+w>>>0,p=p+j>>>0}return e.endian([f,c,l,p])};i._ff=function(r,e,t,n,o,i,u){var a=r+(e&t|~e&n)+(o>>>0)+u;return(a<<i|a>>>32-i)+e},i._gg=function(r,e,t,n,o,i,u){var a=r+(e&n|t&~n)+(o>>>0)+u;return(a<<i|a>>>32-i)+e},i._hh=function(r,e,t,n,o,i,u){var a=r+(e^t^n)+(o>>>0)+u;return(a<<i|a>>>32-i)+e},i._ii=function(r,e,t,n,o,i,u){var a=r+(t^(e|~n))+(o>>>0)+u;return(a<<i|a>>>32-i)+e},i._blocksize=16,i._digestsize=16,r.exports=function(r,t){if(void 0===r||null===r)throw new Error("Illegal argument "+r);var n=e.wordsToBytes(i(r,t));return t&&t.asBytes?n:t&&t.asString?o.bytesToString(n):e.bytesToHex(n)}}()}),rr={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},er=function(r){throw{name:"SyntaxError",message:r,at:F,text:J}},tr=function(r){return r&&r!==z&&er("Expected '"+r+"' instead of '"+z+"'"),z=J.charAt(F),F+=1,z},nr=function(){var r,e="";for("-"===z&&(e="-",tr("-"));z>="0"&&z<="9";)e+=z,tr();if("."===z)for(e+=".";tr()&&z>="0"&&z<="9";)e+=z;if("e"===z||"E"===z)for(e+=z,tr(),"-"!==z&&"+"!==z||(e+=z,tr());z>="0"&&z<="9";)e+=z,tr();if(r=+e,isFinite(r))return r;er("Bad number")},or=function(){var r,e,t,n="";if('"'===z)for(;tr();){if('"'===z)return tr(),n;if("\\"===z)if(tr(),"u"===z){for(t=0,e=0;e<4&&(r=parseInt(tr(),16),isFinite(r));e+=1)t=16*t+r;n+=String.fromCharCode(t)}else{if("string"!=typeof rr[z])break;n+=rr[z]}else n+=z}er("Bad string")},ir=function(){for(;z&&z<=" ";)tr()},ur=function(){switch(z){case"t":return tr("t"),tr("r"),tr("u"),tr("e"),!0;case"f":return tr("f"),tr("a"),tr("l"),tr("s"),tr("e"),!1;case"n":return tr("n"),tr("u"),tr("l"),tr("l"),null}er("Unexpected '"+z+"'")},ar=function(){var r=[];if("["===z){if(tr("["),ir(),"]"===z)return tr("]"),r;for(;z;){if(r.push(U()),ir(),"]"===z)return tr("]"),r;tr(","),ir()}}er("Bad array")},sr=function(){var r,e={};if("{"===z){if(tr("{"),ir(),"}"===z)return tr("}"),e;for(;z;){if(r=or(),ir(),tr(":"),Object.hasOwnProperty.call(e,r)&&er('Duplicate key "'+r+'"'),e[r]=U(),ir(),"}"===z)return tr("}"),e;tr(","),ir()}}er("Bad object")};U=function(){switch(ir(),z){case"{":return sr();case"[":return ar();case'"':return or();case"-":return nr();default:return z>="0"&&z<="9"?nr():ur()}};var fr,cr,lr,pr=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,hr={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},yr={parse:function(r,e){var t;return J=r,F=0,z=" ",t=U(),ir(),z&&er("Syntax error"),"function"==typeof e?function r(t,n){var o,i,u=t[n];if(u&&"object"===(void 0===u?"undefined":O(u)))for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(void 0!==(i=r(u,o))?u[o]=i:delete u[o]);return e.call(t,n,u)}({"":t},""):t},stringify:function(r,e,t){var n;if(fr="",cr="","number"==typeof t)for(n=0;n<t;n+=1)cr+=" ";else"string"==typeof t&&(cr=t);if(lr=e,e&&"function"!=typeof e&&("object"!==(void 0===e?"undefined":O(e))||"number"!=typeof e.length))throw new Error("JSON.stringify");return c("",{"":r})}},vr="undefined"!=typeof JSON?JSON:yr,dr=function(r,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var t=e.space||"";"number"==typeof t&&(t=Array(t+1).join(" "));var n="boolean"==typeof e.cycles&&e.cycles,o=e.replacer||function(r,e){return e},i=e.cmp&&function(r){return function(e){return function(t,n){var o={key:t,value:e[t]},i={key:n,value:e[n]};return r(o,i)}}}(e.cmp),u=[];return function r(e,a,s,f){var c=t?"\n"+new Array(f+1).join(t):"",l=t?": ":":";if(s&&s.toJSON&&"function"==typeof s.toJSON&&(s=s.toJSON()),void 0!==(s=o.call(e,a,s))){if("object"!==(void 0===s?"undefined":O(s))||null===s)return vr.stringify(s);if(gr(s)){for(var p=[],h=0;h<s.length;h++){var y=r(s,h,s[h],f+1)||vr.stringify(null);p.push(c+t+y)}return"["+p.join(",")+c+"]"}if(-1!==u.indexOf(s)){if(n)return vr.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}u.push(s);for(var v=mr(s).sort(i&&i(s)),p=[],h=0;h<v.length;h++){var d=r(s,a=v[h],s[a],f+1);if(d){var g=vr.stringify(a)+l+d;p.push(c+t+g)}}return u.splice(u.indexOf(s),1),"{"+p.join(",")+c+"}"}}({"":r},"",r,0)},gr=Array.isArray||function(r){return"[object Array]"==={}.toString.call(r)},mr=Object.keys||function(r){var e=Object.prototype.hasOwnProperty||function(){return!0},t=[];for(var n in r)e.call(r,n)&&t.push(n);return t};Object.setPrototypeOf(l,Error),(l.prototype=Object.create(Error.prototype)).name="ImplementationError",l.prototype.message="",l.prototype.constructor=l;var br=Math.PI/180,wr=180/Math.PI,jr={lerp:function(r,e,t){return r+(e-r)*t},constrain:p,map:function(r,e,t,n,o){return n+(r-e)/(t-e)*(o-n)},radians:function(r){return r*br},degrees:function(r){return r*wr},fract:function(r){return r-Math.floor(r)},mod:function(r,e){return r-e*Math.floor(r/e)},step:function(r,e){return e<r?0:1},smoothstep:function(r,e,t){var n=p((t-r)/(e-r),0,1);return n*n*(3-2*n)}},Ar=function(r){function e(r,e){function t(){if(c>=f)return a;if(o)return o=!1,u;var e,t=c;if(34===r.charCodeAt(t)){for(var n=t;n++<f;)if(34===r.charCodeAt(n)){if(34!==r.charCodeAt(n+1))break;++n}return c=n+2,13===(e=r.charCodeAt(n+1))?(o=!0,10===r.charCodeAt(n+2)&&++c):10===e&&(o=!0),r.slice(t+1,n).replace(/""/g,'"')}for(;c<f;){var s=1;if(10===(e=r.charCodeAt(c++)))o=!0;else if(13===e)o=!0,10===r.charCodeAt(c)&&(++c,++s);else if(e!==i)continue;return r.slice(t,c-s)}return r.slice(t)}for(var n,o,u={},a={},s=[],f=r.length,c=0,l=0;(n=t())!==a;){for(var p=[];n!==u&&n!==a;)p.push(n),n=t();e&&null==(p=e(p,l++))||s.push(p)}return s}function t(e){return e.map(n).join(r)}function n(r){return null==r?"":o.test(r+="")?'"'+r.replace(/\"/g,'""')+'"':r}var o=new RegExp('["'+r+"\n\r]"),i=r.charCodeAt(0);return{parse:function(r,t){var n,o,i=e(r,function(r,e){if(n)return n(r,e-1);o=r,n=t?y(r,t):h(r)});return i.columns=o,i},parseRows:e,format:function(e,t){return null==t&&(t=v(e)),[t.map(n).join(r)].concat(e.map(function(e){return t.map(function(r){return n(e[r])}).join(r)})).join("\n")},formatRows:function(r){return r.map(t).join("\n")}}},xr=Ar(",").parse,Sr=Ar("\t").parse,Or=function(r,e){if(e=e.split(":")[0],!(r=+r))return!1;switch(e){case"http":case"ws":return 80!==r;case"https":case"wss":return 443!==r;case"ftp":return 21!==r;case"gopher":return 70!==r;case"file":return!1}return 0!==r},Er=Object.prototype.hasOwnProperty,kr={stringify:function(r,e){var t=[];"string"!=typeof(e=e||"")&&(e="?");for(var n in r)Er.call(r,n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(r[n]));return t.length?e+t.join("&"):""},parse:function(r){for(var e,t=/([^=?&]+)=?([^&]*)/g,n={};e=t.exec(r);n[d(e[1])]=d(e[2]));return n}},Cr=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,Tr=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,qr=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Pr={hash:1,query:1};w.prototype={set:function(r,e,t){var n=this;switch(r){case"query":"string"==typeof e&&e.length&&(e=(t||kr.parse)(e)),n[r]=e;break;case"port":n[r]=e,Or(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[r]="");break;case"hostname":n[r]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[r]=e,/:\d+$/.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!t;break;case"pathname":n.pathname=e.length&&"/"!==e.charAt(0)?"/"+e:e;break;default:n[r]=e}for(var o=0;o<qr.length;o++){var i=qr[o];i[4]&&(n[i[1]]=n[i[1]].toLowerCase())}return n.origin=n.protocol&&n.host&&"file:"!==n.protocol?n.protocol+"//"+n.host:"null",n.href=n.toString(),n},toString:function(r){r&&"function"==typeof r||(r=kr.stringify);var e,t=this,n=t.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var o=n+(t.slashes?"//":"");return t.username&&(o+=t.username,t.password&&(o+=":"+t.password),o+="@"),o+=t.host+t.pathname,(e="object"===O(t.query)?r(t.query):t.query)&&(o+="?"!==e.charAt(0)?"?"+e:e),t.hash&&(o+=t.hash),o}},w.extractProtocol=m,w.location=g,w.qs=kr;var Nr,Ir=w,Rr=H.node("fs").readFile,Br=H.node("request"),Mr={text:function(){var r=S.apply(void 0,arguments),e=T(r,2),t=e[0],n=e[1];return n.type="text",x(t,n)},json:function(){var r=S.apply(void 0,arguments),e=T(r,2),t=e[0],n=e[1];return n.type="json",x(t,n)},buffer:function(){var r=S.apply(void 0,arguments),e=T(r,2),t=e[0],n=e[1];return n.type="arraybuffer",n.encoding=null,x(t,n)},csv:function(){var r=S.apply(void 0,arguments),e=T(r,2),t=e[0],n=e[1];return this.text(t,n).then(function(r){return xr(r,n.row)})},tsv:function(){var r=S.apply(void 0,arguments),e=T(r,2),t=e[0],n=e[1];return this.text(t,n).then(function(r){return Sr(r,n.row)})}},_r=e("Semaphore"),Fr=function r(e,t){var n=this;E(this,r);var o=[new Promise(function(r,e){n.resolve=r,n.reject=e}),new Promise(function(r){n.let=r}).then(function(){t(n.resolve,n.reject)})];this.promise=Promise.all(o).then(function(r){return e.signal(),r[0]},function(r){return e.signal(),Promise.reject(r)})},zr=function(){function r(e){E(this,r);var t=_r(this);t.capacity=e,t.available=e,t.queue=[]}return k(r,[{key:"wait",value:function(r){var e=_r(this),t=new Fr(this,r);return 0===e.available?e.queue.push(t):(--e.available,t.let()),t.promise}},{key:"signal",value:function(){var r=_r(this);0===r.queue.length?++r.available:r.queue.shift().let()}},{key:"capacity",get:function(){return _r(this).capacity}},{key:"available",get:function(){return _r(this).available}}]),r}(),Jr={forEach:function(r,e,t){var n=[];r.forEach(function(r,o){var i=o%e;n[i]=r,i===e-1&&t(n,Math.floor(o/e))})},some:function(r,e,t){var n=[];return r.some(function(r,o){var i=o%e;return n[i]=r,i===e-1&&t(n,Math.floor(o/e))})},every:function(r,e,t){var n=[];return r.every(function(r,o){var i=o%e;return n[i]=r,i!==e-1||t(n,Math.floor(o/e))})},reduce:function(r,e,t,n){var o=[];return r.reduce(function(r,n,i){var u=i%e;return o[u]=n,u===e-1?t(r,o,Math.floor(i/e)):r},n)}},Ur=V.crypto||V.msCrypto;if(Ur&&Ur.getRandomValues){var Lr=new Uint8Array(16);Nr=function(){return Ur.getRandomValues(Lr),Lr}}if(!Nr){var Hr=new Array(16);Nr=function(){for(var r,e=0;e<16;e++)0==(3&e)&&(r=4294967296*Math.random()),Hr[e]=r>>>((3&e)<<3)&255;return Hr}}for(var Vr=Nr,Dr=[],Zr=0;Zr<256;++Zr)Dr[Zr]=(Zr+256).toString(16).substr(1);var Wr=function(r,e){var t=e||0,n=Dr;return n[r[t++]]+n[r[t++]]+n[r[t++]]+n[r[t++]]+"-"+n[r[t++]]+n[r[t++]]+"-"+n[r[t++]]+n[r[t++]]+"-"+n[r[t++]]+n[r[t++]]+"-"+n[r[t++]]+n[r[t++]]+n[r[t++]]+n[r[t++]]+n[r[t++]]+n[r[t++]]},Yr=Vr(),$r=[1|Yr[0],Yr[1],Yr[2],Yr[3],Yr[4],Yr[5]],Gr=16383&(Yr[6]<<8|Yr[7]),Xr=0,Kr=0,Qr=function(r,e,t){var n=e&&t||0;"string"==typeof r&&(e="binary"==r?new Array(16):null,r=null);var o=(r=r||{}).random||(r.rng||Vr)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var i=0;i<16;++i)e[n+i]=o[i];return e||Wr(o)},re=Qr;re.v1=function(r,e,t){var n=e&&t||0,o=e||[],i=void 0!==(r=r||{}).clockseq?r.clockseq:Gr,u=void 0!==r.msecs?r.msecs:(new Date).getTime(),a=void 0!==r.nsecs?r.nsecs:Kr+1,s=u-Xr+(a-Kr)/1e4;if(s<0&&void 0===r.clockseq&&(i=i+1&16383),(s<0||u>Xr)&&void 0===r.nsecs&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Xr=u,Kr=a,Gr=i;var f=(1e4*(268435455&(u+=122192928e5))+a)%4294967296;o[n++]=f>>>24&255,o[n++]=f>>>16&255,o[n++]=f>>>8&255,o[n++]=255&f;var c=u/4294967296*1e4&268435455;o[n++]=c>>>8&255,o[n++]=255&c,o[n++]=c>>>24&15|16,o[n++]=c>>>16&255,o[n++]=i>>>8|128,o[n++]=255&i;for(var l=r.node||$r,p=0;p<6;++p)o[n+p]=l[p];return e||Wr(o)},re.v4=Qr;var ee=re.v4;r.Aggregate=R,r.AggregateFunction=N,r.Array=B,r.AssertionError=t,r.Environment=L,r.External=H,r.FilePath=Y,r.Hash=function(r){return Q(dr(r))},r.ImplementationError=l,r.Math=jr,r.Namespace=e,r.Request=Mr,r.Semaphore=zr,r.Stride=Jr,r.URL=Ir,r.UUID=ee,Object.defineProperty(r,"__esModule",{value:!0})});