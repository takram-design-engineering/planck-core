!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(r.Planck=r.Planck||{})}(this,function(r){"use strict";function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=Symbol(r);return function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(r){return r};return void 0===r[t]&&(r[t]=e({})),r[t]}}function e(r){this.message=r}function n(r){var t=void 0,e=void 0;if("string"==typeof r)e=r,t=r;else{var n=Object.keys(r);t=r[e=E(n,1)[0]]}if(process.browser)return z.self[t];if("node"===z.type)try{return require(e)}catch(r){}}function o(r){try{return n(r)}catch(r){z.self.process={browser:"node"!==z.type}}return n(r)}function i(r,t){return t={exports:{}},r(t,t.exports),t.exports}function a(){switch(z.type){case"browser":var r=document.currentScript||document._currentScript;return r&&r.src||void 0;case"worker":return self.location.href;case"node":return __filename}}function s(r){return!!r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)}function u(r){return ar.lastIndex=0,ar.test(r)?'"'+r.replace(ar,function(r){var t=sr[r];return"string"==typeof t?t:"\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+r+'"'}function f(r,t){var e,n,o,i,a,s=nr,c=t[r];switch(c&&"object"===(void 0===c?"undefined":j(c))&&"function"==typeof c.toJSON&&(c=c.toJSON(r)),"function"==typeof ir&&(c=ir.call(t,r,c)),void 0===c?"undefined":j(c)){case"string":return u(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(nr+=or,a=[],"[object Array]"===Object.prototype.toString.apply(c)){for(i=c.length,e=0;e<i;e+=1)a[e]=f(e,c)||"null";return o=0===a.length?"[]":nr?"[\n"+nr+a.join(",\n"+nr)+"\n"+s+"]":"["+a.join(",")+"]",nr=s,o}if(ir&&"object"===(void 0===ir?"undefined":j(ir)))for(i=ir.length,e=0;e<i;e+=1)"string"==typeof(n=ir[e])&&(o=f(n,c))&&a.push(u(n)+(nr?": ":":")+o);else for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(o=f(n,c))&&a.push(u(n)+(nr?": ":":")+o);return o=0===a.length?"{}":nr?"{\n"+nr+a.join(",\n"+nr)+"\n"+s+"}":"{"+a.join(",")+"}",nr=s,o}}function c(r){this.message=r}function l(r,t,e){return r<t?t:r>e?e:r}function h(r){return new Function("d","return {"+r.map(function(r,t){return JSON.stringify(r)+": d["+t+"]"}).join(",")+"}")}function p(r){return decodeURIComponent(r.replace(/\+/g," "))}function v(r){var t,e={},n=void 0===(r=r||J.location||{})?"undefined":j(r);if("blob:"===r.protocol)e=new d(unescape(r.pathname),{});else if("string"===n){e=new d(r,{});for(t in qr)delete e[t]}else if("object"===n){for(t in r)t in qr||(e[t]=r[t]);void 0===e.slashes&&(e.slashes=kr.test(r.href))}return e}function y(r){var t=Cr.exec(r);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function d(r,t,e){if(!(this instanceof d))return new d(r,t,e);var n,o,i,a,s,u,f=Tr.slice(),c=void 0===t?"undefined":j(t),l=0;for("object"!==c&&"string"!==c&&(e=t,t=null),e&&"function"!=typeof e&&(e=Er.parse),t=v(t),n=!(o=y(r||"")).protocol&&!o.slashes,this.slashes=o.slashes||n&&t.slashes,this.protocol=o.protocol||t.protocol||"",r=o.rest,o.slashes||(f[2]=[/(.*)/,"pathname"]);l<f.length;l++)i=(a=f[l])[0],u=a[1],i!=i?this[u]=r:"string"==typeof i?~(s=r.indexOf(i))&&("number"==typeof a[2]?(this[u]=r.slice(0,s),r=r.slice(s+a[2])):(this[u]=r.slice(s),r=r.slice(0,s))):(s=i.exec(r))&&(this[u]=s[1],r=r.slice(0,s.index)),this[u]=this[u]||(n&&a[3]?t[u]||"":""),a[4]&&(this[u]=this[u].toLowerCase());e&&(this.query=e(this.query)),n&&t.slashes&&"/"!==this.pathname.charAt(0)&&(""!==this.pathname||""!==t.pathname)&&(this.pathname=function(r,t){for(var e=(t||"/").split("/").slice(0,-1).concat(r.split("/")),n=e.length,o=e[n-1],i=!1,a=0;n--;)"."===e[n]?e.splice(n,1):".."===e[n]?(e.splice(n,1),a++):a&&(0===n&&(i=!0),e.splice(n,1),a--);return i&&e.unshift(""),"."!==o&&".."!==o||e.push(""),e.join("/")}(this.pathname,t.pathname)),Sr(this.port,this.protocol)||(this.host=this.hostname,this.port=""),this.username=this.password="",this.auth&&(a=this.auth.split(":"),this.username=a[0]||"",this.password=a[1]||""),this.origin=this.protocol&&this.host&&"file:"!==this.protocol?this.protocol+"//"+this.host:"null",this.href=this.toString()}function g(r,t){if("node"===z.type){var e=function(r,t){var e=void 0,n=void 0,o=new Promise(function(){for(var r=arguments.length,t=Array(r),o=0;o<r;o++)t[o]=arguments[o];e=t[0],n=t[1]});if(t.local)Pr(r,t.encoding,function(r,t){r?n(r):e(t)}),o.abort=function(){};else{var i=Br({url:r,headers:t.headers||{},qs:t.query||{},encoding:t.encoding},function(r,t){r?n(r):((t.statusCode<200||t.statusCode>=300)&&n(t.statusCode),e(t.body))});i.on("abort",function(){n(0)}),o.abort=function(){i.abort()}}return o}(r,t);if("json"===t.type){var n=e.then(function(r){if("string"!=typeof r)throw new Error("Response is unexpectedly not a string");return JSON.parse(r)});return n.abort=function(){e.abort()},n}if("arraybuffer"===t.type){var o=e.then(function(r){if(!(r instanceof Buffer))throw new Error("Response is unexpectedly not a buffer");for(var t=new ArrayBuffer(r.length),e=new Uint8Array(t),n=0;n<r.length;++n)e[n]=r[n];return t});return o.abort=function(){e.abort()},o}return e}return function(r,t){var e=void 0,n=void 0,o=new Promise(function(){for(var r=arguments.length,t=Array(r),o=0;o<r;o++)t[o]=arguments[o];e=t[0],n=t[1]}),i=new Nr(r,!0);t.query&&i.set("query",Object.assign({},i.query,t.query));var a=new XMLHttpRequest;if(a.open("get",i.toString(),!0),t.headers)for(var s=Object.keys(t.headers),u=0;u<s.length;++u)a.setRequestHeader.apply(a,C(t.headers[s[u]]));return a.responseType=t.type,a.addEventListener("loadend",function(r){a.status<200||a.status>=300?n(a.status):null!==a.response||"json"!==t.type?e(a.response):n(new Error("Could not parse JSON"))},!1),a.send(),o.abort=function(){a.abort()},o}(r,t)}function b(){for(var r=arguments.length,t=Array(r),e=0;e<r;e++)t[e]=arguments[e];var n=t[0],o=t[1];if("string"!=typeof n&&(n=(o=n).url.url),"string"!=typeof n)throw new Error("The first argument or options.url must be a string");return o=Object.assign({},{type:"text",local:!1,encoding:"utf-8"},o),[n,o]}function m(r){return r instanceof Int8Array||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Int16Array||r instanceof Uint16Array||r instanceof Int32Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array}function w(r,t,e){return r.slice(t,e)}function A(r,t,e){return r.subarray(t,e)}var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},x=function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")},S=function(){function r(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),O=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},E=function(){return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function(r,t){var e=[],n=!0,o=!1,i=void 0;try{for(var a,s=r[Symbol.iterator]();!(n=(a=s.next()).done)&&(e.push(a.value),!t||e.length!==t);n=!0);}catch(r){o=!0,i=r}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return e}(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),C=function(r){if(Array.isArray(r)){for(var t=0,e=Array(r.length);t<r.length;t++)e[t]=r[t];return e}return Array.from(r)},k=t("AggregateFunction"),T=function(){function r(t){if(x(this,r),t!==k)throw new Error;for(var e=k(this),n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];e.targets=o}return S(r,[{key:"apply",value:function(r,t,e){for(var n=k(this).targets,o=[],i=0;i<n.length;++i)o.push(n[i].apply(t,e));return o}}],[{key:"new",value:function(){for(var r=arguments.length,t=Array(r),e=0;e<r;e++)t[e]=arguments[e];var n=new(Function.prototype.bind.apply(this,[null].concat([k],t)));return new Proxy(function(){},n)}}]),r}(),q=t("Aggregate"),I=function(){function r(t){if(x(this,r),t!==q)throw new Error;for(var e=q(this),n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];e.targets=o}return S(r,[{key:"set",value:function(r,t,e,n){for(var o=q(this).targets,i=0;i<o.length;++i)o[i][t]=e;return r[t]=e,!0}},{key:"get",value:function(r,t,e){for(var n=q(this),o=n.targets,i=0;i<o.length;++i)if("function"!=typeof r[t])return n.targets[0][t];for(var a=[],s=0;s<o.length;++s){var u=o[s];a.push(u[t].bind(u))}return T.new.apply(T,a)}}],[{key:"new",value:function(){for(var r=arguments.length,t=Array(r),e=0;e<r;e++)t[e]=arguments[e];var n=new(Function.prototype.bind.apply(this,[null].concat([q],t)));return new Proxy({},n)}}]),r}(),N={min:function(r,t){var e=void 0,n=Number.POSITIVE_INFINITY;if("function"!=typeof t){for(var o=0;o<r.length;++o){var i=r[o];i<n&&(e=i,n=i)}return e}for(var a=0;a<r.length;++a){var s=r[a],u=t(s,a);u<n&&(e=s,n=u)}return e},max:function(r,t){var e=void 0,n=Number.NEGATIVE_INFINITY;if("function"!=typeof t){for(var o=0;o<r.length;++o){var i=r[o];i>n&&(e=i,n=i)}return e}for(var a=0;a<r.length;++a){var s=r[a],u=t(s,a);u>n&&(e=s,n=u)}return e}};Object.setPrototypeOf(e,Error),(e.prototype=Object.create(Error.prototype)).name="AssertionError",e.prototype.message="",e.prototype.constructor=e;var P=function(){try{if(new Function("return this === window")())return"browser"}catch(r){}try{if(new Function("return this === self")())return"worker"}catch(r){}try{if(new Function("return this === global")())return"node"}catch(r){}}(),B=void 0;switch(P){case"browser":B=window;break;case"worker":B=self;break;case"node":B=global}var _,F,R,U,z={type:P,self:B},M={optional:function(r){var t=o(r);return void 0===t?{}:t},required:function(r){var t=o(r);if(void 0===t)throw"node"===z.type?new Error('Could not resolve module "'+r+'"'):new Error('"'+r+'" isn’t defined in the global scope');return t},browser:function(r){var t=o(r);if(void 0===t){if("node"!==z.type)throw new Error('"'+r+'" isn’t defined in the global scope');return{}}return t},node:function(r){var t=o(r);if(void 0===t){if("node"===z.type)throw new Error('Could not resolve module "'+r+'"');return{}}return t}},J="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},L=i(function(r,t){function e(r,t){for(var e=0,n=r.length-1;n>=0;n--){var o=r[n];"."===o?r.splice(n,1):".."===o?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}function n(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(r){return o.exec(r).slice(1)};t.resolve=function(){for(var r="",t=!1,o=arguments.length-1;o>=-1&&!t;o--){var i=o>=0?arguments[o]:process.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(r=i+"/"+r,t="/"===i.charAt(0))}return r=e(n(r.split("/"),function(r){return!!r}),!t).join("/"),(t?"/":"")+r||"."},t.normalize=function(r){var o=t.isAbsolute(r),i="/"===a(r,-1);return(r=e(n(r.split("/"),function(r){return!!r}),!o).join("/"))||o||(r="."),r&&i&&(r+="/"),(o?"/":"")+r},t.isAbsolute=function(r){return"/"===r.charAt(0)},t.join=function(){var r=Array.prototype.slice.call(arguments,0);return t.normalize(n(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},t.relative=function(r,e){function n(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=t.resolve(r).substr(1),e=t.resolve(e).substr(1);for(var o=n(r.split("/")),i=n(e.split("/")),a=Math.min(o.length,i.length),s=a,u=0;u<a;u++)if(o[u]!==i[u]){s=u;break}for(var f=[],u=s;u<o.length;u++)f.push("..");return(f=f.concat(i.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(r){var t=i(r),e=t[0],n=t[1];return e||n?(n&&(n=n.substr(0,n.length-1)),e+n):"."},t.basename=function(r,t){var e=i(r)[2];return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},t.extname=function(r){return i(r)[3]};var a="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)}}),H=(L.resolve,L.normalize,L.isAbsolute,L.join,L.relative,L.sep,L.delimiter,L.dirname,L.basename,L.extname,M.node("path")),V=void 0,D=O({self:a(),get current(){return a()}},V="node"===z.type?{resolve:H.resolve,normalize:H.normalize,join:H.join,relative:H.relative,dirname:H.dirname,basename:H.basename,extname:H.extname,separator:H.sep,delimiter:H.delimiter}:{resolve:function(){for(var r=arguments.length,t=Array(r),e=0;e<r;e++)t[e]=arguments[e];return L.resolve.apply(L,["/"].concat(t))},normalize:L.normalize,join:L.join,relative:L.relative,dirname:L.dirname,basename:L.basename,extname:L.extname,separator:L.sep,delimiter:L.delimiter}),Z=i(function(r){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(r,t){return r<<t|r>>>32-t},rotr:function(r,t){return r<<32-t|r>>>t},endian:function(r){if(r.constructor==Number)return 16711935&e.rotl(r,8)|4278255360&e.rotl(r,24);for(var t=0;t<r.length;t++)r[t]=e.endian(r[t]);return r},randomBytes:function(r){for(var t=[];r>0;r--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(r){for(var t=[],e=0,n=0;e<r.length;e++,n+=8)t[n>>>5]|=r[e]<<24-n%32;return t},wordsToBytes:function(r){for(var t=[],e=0;e<32*r.length;e+=8)t.push(r[e>>>5]>>>24-e%32&255);return t},bytesToHex:function(r){for(var t=[],e=0;e<r.length;e++)t.push((r[e]>>>4).toString(16)),t.push((15&r[e]).toString(16));return t.join("")},hexToBytes:function(r){for(var t=[],e=0;e<r.length;e+=2)t.push(parseInt(r.substr(e,2),16));return t},bytesToBase64:function(r){for(var e=[],n=0;n<r.length;n+=3)for(var o=r[n]<<16|r[n+1]<<8|r[n+2],i=0;i<4;i++)8*n+6*i<=8*r.length?e.push(t.charAt(o>>>6*(3-i)&63)):e.push("=");return e.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],n=0,o=0;n<r.length;o=++n%4)0!=o&&e.push((t.indexOf(r.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(r.charAt(n))>>>6-2*o);return e}};r.exports=e}()}),W={utf8:{stringToBytes:function(r){return W.bin.stringToBytes(unescape(encodeURIComponent(r)))},bytesToString:function(r){return decodeURIComponent(escape(W.bin.bytesToString(r)))}},bin:{stringToBytes:function(r){for(var t=[],e=0;e<r.length;e++)t.push(255&r.charCodeAt(e));return t},bytesToString:function(r){for(var t=[],e=0;e<r.length;e++)t.push(String.fromCharCode(r[e]));return t.join("")}}},Y=W,$=function(r){return null!=r&&(s(r)||function(r){return"function"==typeof r.readFloatLE&&"function"==typeof r.slice&&s(r.slice(0,0))}(r)||!!r._isBuffer)},G=i(function(r){!function(){var t=Z,e=Y.utf8,n=$,o=Y.bin,i=function r(i,a){i.constructor==String?i=a&&"binary"===a.encoding?o.stringToBytes(i):e.stringToBytes(i):n(i)?i=Array.prototype.slice.call(i,0):Array.isArray(i)||(i=i.toString());for(var s=t.bytesToWords(i),u=8*i.length,f=1732584193,c=-271733879,l=-1732584194,h=271733878,p=0;p<s.length;p++)s[p]=16711935&(s[p]<<8|s[p]>>>24)|4278255360&(s[p]<<24|s[p]>>>8);s[u>>>5]|=128<<u%32,s[14+(u+64>>>9<<4)]=u;for(var v=r._ff,y=r._gg,d=r._hh,g=r._ii,p=0;p<s.length;p+=16){var b=f,m=c,w=l,A=h;c=g(c=g(c=g(c=g(c=d(c=d(c=d(c=d(c=y(c=y(c=y(c=y(c=v(c=v(c=v(c=v(c,l=v(l,h=v(h,f=v(f,c,l,h,s[p+0],7,-680876936),c,l,s[p+1],12,-389564586),f,c,s[p+2],17,606105819),h,f,s[p+3],22,-1044525330),l=v(l,h=v(h,f=v(f,c,l,h,s[p+4],7,-176418897),c,l,s[p+5],12,1200080426),f,c,s[p+6],17,-1473231341),h,f,s[p+7],22,-45705983),l=v(l,h=v(h,f=v(f,c,l,h,s[p+8],7,1770035416),c,l,s[p+9],12,-1958414417),f,c,s[p+10],17,-42063),h,f,s[p+11],22,-1990404162),l=v(l,h=v(h,f=v(f,c,l,h,s[p+12],7,1804603682),c,l,s[p+13],12,-40341101),f,c,s[p+14],17,-1502002290),h,f,s[p+15],22,1236535329),l=y(l,h=y(h,f=y(f,c,l,h,s[p+1],5,-165796510),c,l,s[p+6],9,-1069501632),f,c,s[p+11],14,643717713),h,f,s[p+0],20,-373897302),l=y(l,h=y(h,f=y(f,c,l,h,s[p+5],5,-701558691),c,l,s[p+10],9,38016083),f,c,s[p+15],14,-660478335),h,f,s[p+4],20,-405537848),l=y(l,h=y(h,f=y(f,c,l,h,s[p+9],5,568446438),c,l,s[p+14],9,-1019803690),f,c,s[p+3],14,-187363961),h,f,s[p+8],20,1163531501),l=y(l,h=y(h,f=y(f,c,l,h,s[p+13],5,-1444681467),c,l,s[p+2],9,-51403784),f,c,s[p+7],14,1735328473),h,f,s[p+12],20,-1926607734),l=d(l,h=d(h,f=d(f,c,l,h,s[p+5],4,-378558),c,l,s[p+8],11,-2022574463),f,c,s[p+11],16,1839030562),h,f,s[p+14],23,-35309556),l=d(l,h=d(h,f=d(f,c,l,h,s[p+1],4,-1530992060),c,l,s[p+4],11,1272893353),f,c,s[p+7],16,-155497632),h,f,s[p+10],23,-1094730640),l=d(l,h=d(h,f=d(f,c,l,h,s[p+13],4,681279174),c,l,s[p+0],11,-358537222),f,c,s[p+3],16,-722521979),h,f,s[p+6],23,76029189),l=d(l,h=d(h,f=d(f,c,l,h,s[p+9],4,-640364487),c,l,s[p+12],11,-421815835),f,c,s[p+15],16,530742520),h,f,s[p+2],23,-995338651),l=g(l,h=g(h,f=g(f,c,l,h,s[p+0],6,-198630844),c,l,s[p+7],10,1126891415),f,c,s[p+14],15,-1416354905),h,f,s[p+5],21,-57434055),l=g(l,h=g(h,f=g(f,c,l,h,s[p+12],6,1700485571),c,l,s[p+3],10,-1894986606),f,c,s[p+10],15,-1051523),h,f,s[p+1],21,-2054922799),l=g(l,h=g(h,f=g(f,c,l,h,s[p+8],6,1873313359),c,l,s[p+15],10,-30611744),f,c,s[p+6],15,-1560198380),h,f,s[p+13],21,1309151649),l=g(l,h=g(h,f=g(f,c,l,h,s[p+4],6,-145523070),c,l,s[p+11],10,-1120210379),f,c,s[p+2],15,718787259),h,f,s[p+9],21,-343485551),f=f+b>>>0,c=c+m>>>0,l=l+w>>>0,h=h+A>>>0}return t.endian([f,c,l,h])};i._ff=function(r,t,e,n,o,i,a){var s=r+(t&e|~t&n)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},i._gg=function(r,t,e,n,o,i,a){var s=r+(t&n|e&~n)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},i._hh=function(r,t,e,n,o,i,a){var s=r+(t^e^n)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},i._ii=function(r,t,e,n,o,i,a){var s=r+(e^(t|~n))+(o>>>0)+a;return(s<<i|s>>>32-i)+t},i._blocksize=16,i._digestsize=16,r.exports=function(r,e){if(void 0===r||null===r)throw new Error("Illegal argument "+r);var n=t.wordsToBytes(i(r,e));return e&&e.asBytes?n:e&&e.asString?o.bytesToString(n):t.bytesToHex(n)}}()}),X={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},K=function(r){throw{name:"SyntaxError",message:r,at:_,text:R}},Q=function(r){return r&&r!==F&&K("Expected '"+r+"' instead of '"+F+"'"),F=R.charAt(_),_+=1,F},rr=function(){var r,t="";for("-"===F&&(t="-",Q("-"));F>="0"&&F<="9";)t+=F,Q();if("."===F)for(t+=".";Q()&&F>="0"&&F<="9";)t+=F;if("e"===F||"E"===F)for(t+=F,Q(),"-"!==F&&"+"!==F||(t+=F,Q());F>="0"&&F<="9";)t+=F,Q();if(r=+t,isFinite(r))return r;K("Bad number")},tr=function(){var r,t,e,n="";if('"'===F)for(;Q();){if('"'===F)return Q(),n;if("\\"===F)if(Q(),"u"===F){for(e=0,t=0;t<4&&(r=parseInt(Q(),16),isFinite(r));t+=1)e=16*e+r;n+=String.fromCharCode(e)}else{if("string"!=typeof X[F])break;n+=X[F]}else n+=F}K("Bad string")},er=function(){for(;F&&F<=" ";)Q()};U=function(){switch(er(),F){case"{":return function(){var r,t={};if("{"===F){if(Q("{"),er(),"}"===F)return Q("}"),t;for(;F;){if(r=tr(),er(),Q(":"),Object.hasOwnProperty.call(t,r)&&K('Duplicate key "'+r+'"'),t[r]=U(),er(),"}"===F)return Q("}"),t;Q(","),er()}}K("Bad object")}();case"[":return function(){var r=[];if("["===F){if(Q("["),er(),"]"===F)return Q("]"),r;for(;F;){if(r.push(U()),er(),"]"===F)return Q("]"),r;Q(","),er()}}K("Bad array")}();case'"':return tr();case"-":return rr();default:return F>="0"&&F<="9"?rr():function(){switch(F){case"t":return Q("t"),Q("r"),Q("u"),Q("e"),!0;case"f":return Q("f"),Q("a"),Q("l"),Q("s"),Q("e"),!1;case"n":return Q("n"),Q("u"),Q("l"),Q("l"),null}K("Unexpected '"+F+"'")}()}};var nr,or,ir,ar=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,sr={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},ur={parse:function(r,t){var e;return R=r,_=0,F=" ",e=U(),er(),F&&K("Syntax error"),"function"==typeof t?function r(e,n){var o,i,a=e[n];if(a&&"object"===(void 0===a?"undefined":j(a)))for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(void 0!==(i=r(a,o))?a[o]=i:delete a[o]);return t.call(e,n,a)}({"":e},""):e},stringify:function(r,t,e){var n;if(nr="",or="","number"==typeof e)for(n=0;n<e;n+=1)or+=" ";else"string"==typeof e&&(or=e);if(ir=t,t&&"function"!=typeof t&&("object"!==(void 0===t?"undefined":j(t))||"number"!=typeof t.length))throw new Error("JSON.stringify");return f("",{"":r})}},fr="undefined"!=typeof JSON?JSON:ur,cr=function(r,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var e=t.space||"";"number"==typeof e&&(e=Array(e+1).join(" "));var n="boolean"==typeof t.cycles&&t.cycles,o=t.replacer||function(r,t){return t},i=t.cmp&&function(r){return function(t){return function(e,n){var o={key:e,value:t[e]},i={key:n,value:t[n]};return r(o,i)}}}(t.cmp),a=[];return function r(t,s,u,f){var c=e?"\n"+new Array(f+1).join(e):"",l=e?": ":":";if(u&&u.toJSON&&"function"==typeof u.toJSON&&(u=u.toJSON()),void 0!==(u=o.call(t,s,u))){if("object"!==(void 0===u?"undefined":j(u))||null===u)return fr.stringify(u);if(lr(u)){for(var h=[],p=0;p<u.length;p++){var v=r(u,p,u[p],f+1)||fr.stringify(null);h.push(c+e+v)}return"["+h.join(",")+c+"]"}if(-1!==a.indexOf(u)){if(n)return fr.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}a.push(u);for(var y=hr(u).sort(i&&i(u)),h=[],p=0;p<y.length;p++){var d=r(u,s=y[p],u[s],f+1);if(d){var g=fr.stringify(s)+l+d;h.push(c+e+g)}}return a.splice(a.indexOf(u),1),"{"+h.join(",")+c+"}"}}({"":r},"",r,0)},lr=Array.isArray||function(r){return"[object Array]"==={}.toString.call(r)},hr=Object.keys||function(r){var t=Object.prototype.hasOwnProperty||function(){return!0},e=[];for(var n in r)t.call(r,n)&&e.push(n);return e};Object.setPrototypeOf(c,Error),(c.prototype=Object.create(Error.prototype)).name="ImplementationError",c.prototype.message="",c.prototype.constructor=c;var pr=Math.PI/180,vr=180/Math.PI,yr={lerp:function(r,t,e){return r+(t-r)*e},constrain:l,map:function(r,t,e,n,o){return n+(r-t)/(e-t)*(o-n)},wrap:function(r,t,e){return r<t?e-(t-r)%(e-t):t+(r-t)%(e-t)},radians:function(r){return r*pr},degrees:function(r){return r*vr},fract:function(r){return r-Math.floor(r)},mod:function(r,t){return r-t*Math.floor(r/t)},step:function(r,t){return t<r?0:1},smoothstep:function(r,t,e){var n=l((e-r)/(t-r),0,1);return n*n*(3-2*n)}},dr={},gr={},br=34,mr=10,wr=13,Ar=function(r){function t(r,t){function e(){if(f)return gr;if(c)return c=!1,dr;var t,e,n=s;if(r.charCodeAt(n)===br){for(;s++<a&&r.charCodeAt(s)!==br||r.charCodeAt(++s)===br;);return(t=s)>=a?f=!0:(e=r.charCodeAt(s++))===mr?c=!0:e===wr&&(c=!0,r.charCodeAt(s)===mr&&++s),r.slice(n+1,t-1).replace(/""/g,'"')}for(;s<a;){if((e=r.charCodeAt(t=s++))===mr)c=!0;else if(e===wr)c=!0,r.charCodeAt(s)===mr&&++s;else if(e!==i)continue;return r.slice(n,t)}return f=!0,r.slice(n,a)}var n,o=[],a=r.length,s=0,u=0,f=a<=0,c=!1;for(r.charCodeAt(a-1)===mr&&--a,r.charCodeAt(a-1)===wr&&--a;(n=e())!==gr;){for(var l=[];n!==dr&&n!==gr;)l.push(n),n=e();t&&null==(l=t(l,u++))||o.push(l)}return o}function e(t){return t.map(n).join(r)}function n(r){return null==r?"":o.test(r+="")?'"'+r.replace(/"/g,'""')+'"':r}var o=new RegExp('["'+r+"\n\r]"),i=r.charCodeAt(0);return{parse:function(r,e){var n,o,i=t(r,function(r,t){if(n)return n(r,t-1);o=r,n=e?function(r,t){var e=h(r);return function(n,o){return t(e(n),o,r)}}(r,e):h(r)});return i.columns=o||[],i},parseRows:t,format:function(t,e){return null==e&&(e=function(r){var t=Object.create(null),e=[];return r.forEach(function(r){for(var n in r)n in t||e.push(t[n]=n)}),e}(t)),[e.map(n).join(r)].concat(t.map(function(t){return e.map(function(r){return n(t[r])}).join(r)})).join("\n")},formatRows:function(r){return r.map(e).join("\n")}}},jr=Ar(",").parse,xr=Ar("\t").parse,Sr=function(r,t){if(t=t.split(":")[0],!(r=+r))return!1;switch(t){case"http":case"ws":return 80!==r;case"https":case"wss":return 443!==r;case"ftp":return 21!==r;case"gopher":return 70!==r;case"file":return!1}return 0!==r},Or=Object.prototype.hasOwnProperty,Er={stringify:function(r,t){var e=[];"string"!=typeof(t=t||"")&&(t="?");for(var n in r)Or.call(r,n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(r[n]));return e.length?t+e.join("&"):""},parse:function(r){for(var t,e=/([^=?&]+)=?([^&]*)/g,n={};t=e.exec(r);n[p(t[1])]=p(t[2]));return n}},Cr=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,kr=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Tr=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],qr={hash:1,query:1};d.prototype={set:function(r,t,e){switch(r){case"query":"string"==typeof t&&t.length&&(t=(e||Er.parse)(t)),this[r]=t;break;case"port":this[r]=t,Sr(t,this.protocol)?t&&(this.host=this.hostname+":"+t):(this.host=this.hostname,this[r]="");break;case"hostname":this[r]=t,this.port&&(t+=":"+this.port),this.host=t;break;case"host":this[r]=t,/:\d+$/.test(t)?(t=t.split(":"),this.port=t.pop(),this.hostname=t.join(":")):(this.hostname=t,this.port="");break;case"protocol":this.protocol=t.toLowerCase(),this.slashes=!e;break;case"pathname":case"hash":if(t){var n="pathname"===r?"/":"#";this[r]=t.charAt(0)!==n?n+t:t}else this[r]=t;break;default:this[r]=t}for(var o=0;o<Tr.length;o++){var i=Tr[o];i[4]&&(this[i[1]]=this[i[1]].toLowerCase())}return this.origin=this.protocol&&this.host&&"file:"!==this.protocol?this.protocol+"//"+this.host:"null",this.href=this.toString(),this},toString:function(r){r&&"function"==typeof r||(r=Er.stringify);var t,e=this.protocol;e&&":"!==e.charAt(e.length-1)&&(e+=":");var n=e+(this.slashes?"//":"");return this.username&&(n+=this.username,this.password&&(n+=":"+this.password),n+="@"),n+=this.host+this.pathname,(t="object"===j(this.query)?r(this.query):this.query)&&(n+="?"!==t.charAt(0)?"?"+t:t),this.hash&&(n+=this.hash),n}},d.extractProtocol=y,d.location=v,d.qs=Er;var Ir,Nr=d,Pr=M.node("fs").readFile,Br=M.node("request"),_r={text:function(){var r=b.apply(void 0,arguments),t=E(r,2),e=t[0],n=t[1];return n.type="text",g(e,n)},json:function(){var r=b.apply(void 0,arguments),t=E(r,2),e=t[0],n=t[1];return n.type="json",g(e,n)},buffer:function(){var r=b.apply(void 0,arguments),t=E(r,2),e=t[0],n=t[1];return n.type="arraybuffer",n.encoding=null,g(e,n)},csv:function(){var r=b.apply(void 0,arguments),t=E(r,2),e=t[0],n=t[1],o=this.text(e,n),i=o.then(function(r){return jr(r,n.row)});return i.abort=function(){o.abort()},i},tsv:function(){var r=b.apply(void 0,arguments),t=E(r,2),e=t[0],n=t[1],o=this.text(e,n),i=o.then(function(r){return xr(r,n.row)});return i.abort=function(){o.abort()},i}},Fr=t("Semaphore"),Rr=function(){function r(t){x(this,r);var e=Fr(this);e.capacity=t,e.available=t,e.queue=[]}return S(r,[{key:"wait",value:function(r){var t=Fr(this),e=new function r(t,e){var n=this;x(this,r);var o=[new Promise(function(r,t){n.resolve=r,n.reject=t}),new Promise(function(r){n.let=r}).then(function(){e(n.resolve,n.reject)})];this.promise=Promise.all(o).then(function(r){return t.signal(),r[0]},function(r){return t.signal(),Promise.reject(r)})}(this,r);return 0===t.available?t.queue.push(e):(--t.available,e.let()),e.promise}},{key:"signal",value:function(){var r=Fr(this);0===r.queue.length?++r.available:r.queue.shift().let()}},{key:"capacity",get:function(){return Fr(this).capacity}},{key:"available",get:function(){return Fr(this).available}}]),r}(),Ur={forEach:function(r,t,e){for(var n=m(r)?A:w,o=r.length-r.length%t,i=0,a=0;i<o;i+=t,++a)e(n(r,i,i+t),a)},some:function(r,t,e){for(var n=r.length-r.length%t,o=m(r)?A:w,i=0,a=0;i<n;i+=t,++a)if(e(o(r,i,i+t),a))return!0;return!1},every:function(r,t,e){for(var n=r.length-r.length%t,o=m(r)?A:w,i=0,a=0;i<n;i+=t,++a)if(!e(o(r,i,i+t),a))return!1;return!0},reduce:function(r,t,e,n){for(var o=n,i=r.length-r.length%t,a=m(r)?A:w,s=0,u=0;s<i;s+=t,++u)o=e(o,a(r,s,s+t),u);return o},set:function(r,t,e){var n=r.length-r.length%t;if(m(r))for(var o=0;o<n;o+=t)r.set(e,o);else for(var i=0;i<n;i+=t)for(var a=0;a<t;++a)r[i+a]=e[a];return r},transform:function(r,t,e){var n=r.length-r.length%t;if(m(r))for(var o=0,i=0;o<n;o+=t,++i){var a=e(r.slice(o,o+t),i);r.set(a,o)}else for(var s=0,u=0;s<n;s+=t,++u)for(var f=0;f<t;++f){var c=e(r.slice(s,s+t),u);r[s+f]=c[f]}return r}},zr=J.crypto||J.msCrypto;if(zr&&zr.getRandomValues){var Mr=new Uint8Array(16);Ir=function(){return zr.getRandomValues(Mr),Mr}}if(!Ir){var Jr=new Array(16);Ir=function(){for(var r,t=0;t<16;t++)0==(3&t)&&(r=4294967296*Math.random()),Jr[t]=r>>>((3&t)<<3)&255;return Jr}}for(var Lr=Ir,Hr=[],Vr=0;Vr<256;++Vr)Hr[Vr]=(Vr+256).toString(16).substr(1);var Dr=function(r,t){var e=t||0,n=Hr;return n[r[e++]]+n[r[e++]]+n[r[e++]]+n[r[e++]]+"-"+n[r[e++]]+n[r[e++]]+"-"+n[r[e++]]+n[r[e++]]+"-"+n[r[e++]]+n[r[e++]]+"-"+n[r[e++]]+n[r[e++]]+n[r[e++]]+n[r[e++]]+n[r[e++]]+n[r[e++]]},Zr=Lr(),Wr=[1|Zr[0],Zr[1],Zr[2],Zr[3],Zr[4],Zr[5]],Yr=16383&(Zr[6]<<8|Zr[7]),$r=0,Gr=0,Xr=function(r,t,e){var n=t&&e||0,o=t||[],i=void 0!==(r=r||{}).clockseq?r.clockseq:Yr,a=void 0!==r.msecs?r.msecs:(new Date).getTime(),s=void 0!==r.nsecs?r.nsecs:Gr+1,u=a-$r+(s-Gr)/1e4;if(u<0&&void 0===r.clockseq&&(i=i+1&16383),(u<0||a>$r)&&void 0===r.nsecs&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");$r=a,Gr=s,Yr=i;var f=(1e4*(268435455&(a+=122192928e5))+s)%4294967296;o[n++]=f>>>24&255,o[n++]=f>>>16&255,o[n++]=f>>>8&255,o[n++]=255&f;var c=a/4294967296*1e4&268435455;o[n++]=c>>>8&255,o[n++]=255&c,o[n++]=c>>>24&15|16,o[n++]=c>>>16&255,o[n++]=i>>>8|128,o[n++]=255&i;for(var l=r.node||Wr,h=0;h<6;++h)o[n+h]=l[h];return t||Dr(o)},Kr=function(r,t,e){var n=t&&e||0;"string"==typeof r&&(t="binary"==r?new Array(16):null,r=null);var o=(r=r||{}).random||(r.rng||Lr)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[n+i]=o[i];return t||Dr(o)},Qr=Kr;Qr.v1=Xr,Qr.v4=Kr;var rt=Qr.v4;r.Aggregate=I,r.AggregateFunction=T,r.Array=N,r.AssertionError=e,r.Environment=z,r.External=M,r.FilePath=D,r.Hash=function(r){return G(cr(r))},r.ImplementationError=c,r.Math=yr,r.Namespace=t,r.Request=_r,r.Semaphore=Rr,r.Stride=Ur,r.URL=Nr,r.UUID=rt,Object.defineProperty(r,"__esModule",{value:!0})});