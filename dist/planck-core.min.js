!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(r.Planck=r.Planck||{})}(this,function(r){"use strict";function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=Symbol(r);return function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(r){return r};return void 0===r[e]&&(r[e]=n({})),r[e]}}function n(r){this.message=r}function t(r){var e=void 0,n=void 0;if("string"==typeof r?(n=r,e=r):e=r[n=Object.keys(r)[0]],process.browser)return D.self[e];if("node"===D.type)try{return require(n)}catch(r){}}function o(r){try{return t(r)}catch(r){D.self.process={browser:"node"!==D.type}}return t(r)}function i(r,e){return e={exports:{}},r(e,e.exports),e.exports}function a(){switch(D.type){case"browser":var r=document.currentScript||document._currentScript;return r&&r.src||void 0;case"worker":return self.location.href;case"node":return __filename}}function u(r){return!!r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)}function s(r){return"function"==typeof r.readFloatLE&&"function"==typeof r.slice&&u(r.slice(0,0))}function f(r){return yr.lastIndex=0,yr.test(r)?'"'+r.replace(yr,function(r){var e=dr[r];return"string"==typeof e?e:"\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+r+'"'}function c(r,e){var n,t,o,i,a,u=pr,s=e[r];switch(s&&"object"===(void 0===s?"undefined":C(s))&&"function"==typeof s.toJSON&&(s=s.toJSON(r)),"function"==typeof vr&&(s=vr.call(e,r,s)),void 0===s?"undefined":C(s)){case"string":return f(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(pr+=hr,a=[],"[object Array]"===Object.prototype.toString.apply(s)){for(i=s.length,n=0;n<i;n+=1)a[n]=c(n,s)||"null";return o=0===a.length?"[]":pr?"[\n"+pr+a.join(",\n"+pr)+"\n"+u+"]":"["+a.join(",")+"]",pr=u,o}if(vr&&"object"===(void 0===vr?"undefined":C(vr)))for(i=vr.length,n=0;n<i;n+=1)"string"==typeof(t=vr[n])&&(o=c(t,s))&&a.push(f(t)+(pr?": ":":")+o);else for(t in s)Object.prototype.hasOwnProperty.call(s,t)&&(o=c(t,s))&&a.push(f(t)+(pr?": ":":")+o);return o=0===a.length?"{}":pr?"{\n"+pr+a.join(",\n"+pr)+"\n"+u+"}":"{"+a.join(",")+"}",pr=u,o}}function l(r){this.message=r}function p(r,e,n){return r<e?e:r>n?n:r}function h(r){return new Function("d","return {"+r.map(function(r,e){return JSON.stringify(r)+": d["+e+"]"}).join(",")+"}")}function v(r,e){var n=h(r);return function(t,o){return e(n(t),o,r)}}function y(r){var e=Object.create(null),n=[];return r.forEach(function(r){for(var t in r)t in e||n.push(e[t]=t)}),n}function d(r){return decodeURIComponent(r.replace(/\+/g," "))}function g(r){var e,n={},t=void 0===(r=r||W.location||{})?"undefined":C(r);if("blob:"===r.protocol)n=new w(unescape(r.pathname),{});else if("string"===t){n=new w(r,{});for(e in Br)delete n[e]}else if("object"===t){for(e in r)e in Br||(n[e]=r[e]);void 0===n.slashes&&(n.slashes=Pr.test(r.href))}return n}function m(r){var e=Ir.exec(r);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function b(r,e){for(var n=(e||"/").split("/").slice(0,-1).concat(r.split("/")),t=n.length,o=n[t-1],i=!1,a=0;t--;)"."===n[t]?n.splice(t,1):".."===n[t]?(n.splice(t,1),a++):a&&(0===t&&(i=!0),n.splice(t,1),a--);return i&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}function w(r,e,n){if(!(this instanceof w))return new w(r,e,n);var t,o,i,a,u,s,f=Nr.slice(),c=void 0===e?"undefined":C(e),l=this,p=0;for("object"!==c&&"string"!==c&&(n=e,e=null),n&&"function"!=typeof n&&(n=qr.parse),e=g(e),t=!(o=m(r||"")).protocol&&!o.slashes,l.slashes=o.slashes||t&&e.slashes,l.protocol=o.protocol||e.protocol||"",r=o.rest,o.slashes||(f[2]=[/(.*)/,"pathname"]);p<f.length;p++)i=(a=f[p])[0],s=a[1],i!==i?l[s]=r:"string"==typeof i?~(u=r.indexOf(i))&&("number"==typeof a[2]?(l[s]=r.slice(0,u),r=r.slice(u+a[2])):(l[s]=r.slice(u),r=r.slice(0,u))):(u=i.exec(r))&&(l[s]=u[1],r=r.slice(0,u.index)),l[s]=l[s]||(t&&a[3]?e[s]||"":""),a[4]&&(l[s]=l[s].toLowerCase());n&&(l.query=n(l.query)),t&&e.slashes&&"/"!==l.pathname.charAt(0)&&(""!==l.pathname||""!==e.pathname)&&(l.pathname=b(l.pathname,e.pathname)),Cr(l.port,l.protocol)||(l.host=l.hostname,l.port=""),l.username=l.password="",l.auth&&(a=l.auth.split(":"),l.username=a[0]||"",l.password=a[1]||""),l.origin=l.protocol&&l.host&&"file:"!==l.protocol?l.protocol+"//"+l.host:"null",l.href=l.toString()}function j(r,e){return new Promise(function(n,t){var o=new Fr(r,!0);e.query&&o.set("query",Object.assign({},o.query,e.query));var i=new XMLHttpRequest;if(i.open("get",o.toString(),!0),e.headers)for(var a=Object.keys(e.headers),u=0;u<a.length;++u)i.setRequestHeader.apply(i,N(e.headers[a[u]]));i.responseType=e.type,i.addEventListener("loadend",function(r){i.status<200||i.status>=300?t(i.status):null!==i.response||"json"!==e.type?n(i.response):t(new Error("Could not parse JSON"))},!1),i.send()})}function A(r,e){return e.local?new Promise(function(n,t){Rr(r,e.encoding,function(r,e){r?t(r):n(e)})}):new Promise(function(n,t){Ur({url:r,headers:e.headers||{},qs:e.query||{},encoding:e.encoding},function(r,e){r?t(r):((e.statusCode<200||e.statusCode>=300)&&t(e.statusCode),n(e.body))})})}function S(r,e){if("node"===D.type){var n=A(r,e);return"json"===e.type?n.then(function(r){if("string"!=typeof r)throw new Error("Response is unexpectedly not a string");return JSON.parse(r)}):"arraybuffer"===e.type?n.then(function(r){if(!(r instanceof Buffer))throw new Error("Response is unexpectedly not a buffer");for(var e=new ArrayBuffer(r.length),n=new Uint8Array(e),t=0;t<r.length;++t)n[t]=r[t];return e}):n}return j(r,e)}function x(){for(var r=arguments.length,e=Array(r),n=0;n<r;n++)e[n]=arguments[n];var t=e[0],o=e[1];if("string"!=typeof t&&(t=(o=t).url),"string"!=typeof t)throw new Error("The first argument or options.url must be a string");return o=Object.assign({},{type:"text",local:!1,encoding:"utf-8"},o),[t,o]}function O(r){return r instanceof Int8Array||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Int16Array||r instanceof Uint16Array||r instanceof Int32Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array}function E(r,e,n){return r.slice(e,n)}function k(r,e,n){return r.subarray(e,n)}var C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},T=function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")},q=function(){function r(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}}(),I=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},P=function(){function r(r,e){var n=[],t=!0,o=!1,i=void 0;try{for(var a,u=r[Symbol.iterator]();!(t=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);t=!0);}catch(r){o=!0,i=r}finally{try{!t&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),N=function(r){if(Array.isArray(r)){for(var e=0,n=Array(r.length);e<r.length;e++)n[e]=r[e];return n}return Array.from(r)},B=e("AggregateFunction"),_=function(){function r(e){if(T(this,r),e!==B)throw new Error;for(var n=B(this),t=arguments.length,o=Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];n.targets=o}return q(r,[{key:"apply",value:function(r,e,n){for(var t=B(this).targets,o=[],i=0;i<t.length;++i)o.push(t[i].apply(e,n));return o}}],[{key:"new",value:function(){for(var r=arguments.length,e=Array(r),n=0;n<r;n++)e[n]=arguments[n];var t=new(Function.prototype.bind.apply(this,[null].concat([B],e)));return new Proxy(function(){},t)}}]),r}(),F=e("Aggregate"),R=function(){function r(e){if(T(this,r),e!==F)throw new Error;for(var n=F(this),t=arguments.length,o=Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];n.targets=o}return q(r,[{key:"set",value:function(r,e,n,t){for(var o=F(this).targets,i=0;i<o.length;++i)o[i][e]=n;return r[e]=n,!0}},{key:"get",value:function(r,e,n){for(var t=F(this),o=t.targets,i=0;i<o.length;++i)if("function"!=typeof r[e])return t.targets[0][e];for(var a=[],u=0;u<o.length;++u){var s=o[u];a.push(s[e].bind(s))}return _.new.apply(_,a)}}],[{key:"new",value:function(){for(var r=arguments.length,e=Array(r),n=0;n<r;n++)e[n]=arguments[n];var t=new(Function.prototype.bind.apply(this,[null].concat([F],e)));return new Proxy({},t)}}]),r}(),U={min:function(r,e){var n=void 0,t=Number.POSITIVE_INFINITY;if("function"!=typeof e){for(var o=0;o<r.length;++o){var i=r[o];i<t&&(n=i,t=i)}return n}for(var a=0;a<r.length;++a){var u=r[a],s=e(u,a);s<t&&(n=u,t=s)}return n},max:function(r,e){var n=void 0,t=Number.NEGATIVE_INFINITY;if("function"!=typeof e){for(var o=0;o<r.length;++o){var i=r[o];i>t&&(n=i,t=i)}return n}for(var a=0;a<r.length;++a){var u=r[a],s=e(u,a);s>t&&(n=u,t=s)}return n}};Object.setPrototypeOf(n,Error),(n.prototype=Object.create(Error.prototype)).name="AssertionError",n.prototype.message="",n.prototype.constructor=n;var M=function(){try{if(new Function("return this === window")())return"browser"}catch(r){}try{if(new Function("return this === self")())return"worker"}catch(r){}try{if(new Function("return this === global")())return"node"}catch(r){}}(),z=void 0;switch(M){case"browser":z=window;break;case"worker":z=self;break;case"node":z=global}var J,L,H,V,D={type:M,self:z},Z={optional:function(r){var e=o(r);return void 0===e?{}:e},required:function(r){var e=o(r);if(void 0===e)throw"node"===D.type?new Error('Could not resolve module "'+r+'"'):new Error('"'+r+'" isn’t defined in the global scope');return e},browser:function(r){var e=o(r);if(void 0===e){if("node"!==D.type)throw new Error('"'+r+'" isn’t defined in the global scope');return{}}return e},node:function(r){var e=o(r);if(void 0===e){if("node"===D.type)throw new Error('Could not resolve module "'+r+'"');return{}}return e}},W="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Y=i(function(r,e){function n(r,e){for(var n=0,t=r.length-1;t>=0;t--){var o=r[t];"."===o?r.splice(t,1):".."===o?(r.splice(t,1),n++):n&&(r.splice(t,1),n--)}if(e)for(;n--;n)r.unshift("..");return r}function t(r,e){if(r.filter)return r.filter(e);for(var n=[],t=0;t<r.length;t++)e(r[t],t,r)&&n.push(r[t]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(r){return o.exec(r).slice(1)};e.resolve=function(){for(var r="",e=!1,o=arguments.length-1;o>=-1&&!e;o--){var i=o>=0?arguments[o]:process.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(r=i+"/"+r,e="/"===i.charAt(0))}return r=n(t(r.split("/"),function(r){return!!r}),!e).join("/"),(e?"/":"")+r||"."},e.normalize=function(r){var o=e.isAbsolute(r),i="/"===a(r,-1);return(r=n(t(r.split("/"),function(r){return!!r}),!o).join("/"))||o||(r="."),r&&i&&(r+="/"),(o?"/":"")+r},e.isAbsolute=function(r){return"/"===r.charAt(0)},e.join=function(){var r=Array.prototype.slice.call(arguments,0);return e.normalize(t(r,function(r,e){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},e.relative=function(r,n){function t(r){for(var e=0;e<r.length&&""===r[e];e++);for(var n=r.length-1;n>=0&&""===r[n];n--);return e>n?[]:r.slice(e,n-e+1)}r=e.resolve(r).substr(1),n=e.resolve(n).substr(1);for(var o=t(r.split("/")),i=t(n.split("/")),a=Math.min(o.length,i.length),u=a,s=0;s<a;s++)if(o[s]!==i[s]){u=s;break}for(var f=[],s=u;s<o.length;s++)f.push("..");return(f=f.concat(i.slice(u))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(r){var e=i(r),n=e[0],t=e[1];return n||t?(t&&(t=t.substr(0,t.length-1)),n+t):"."},e.basename=function(r,e){var n=i(r)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(r){return i(r)[3]};var a="b"==="ab".substr(-1)?function(r,e,n){return r.substr(e,n)}:function(r,e,n){return e<0&&(e=r.length+e),r.substr(e,n)}}),$=Z.node("path"),G=void 0,X=I({self:a(),get current(){return a()}},G="node"===D.type?{resolve:$.resolve,normalize:$.normalize,join:$.join,relative:$.relative,dirname:$.dirname,basename:$.basename,extname:$.extname,separator:$.sep,delimiter:$.delimiter}:{resolve:function(){for(var r=arguments.length,e=Array(r),n=0;n<r;n++)e[n]=arguments[n];return Y.resolve.apply(Y,["/"].concat(e))},normalize:Y.normalize,join:Y.join,relative:Y.relative,dirname:Y.dirname,basename:Y.basename,extname:Y.extname,separator:Y.sep,delimiter:Y.delimiter}),K=i(function(r){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(r,e){return r<<e|r>>>32-e},rotr:function(r,e){return r<<32-e|r>>>e},endian:function(r){if(r.constructor==Number)return 16711935&n.rotl(r,8)|4278255360&n.rotl(r,24);for(var e=0;e<r.length;e++)r[e]=n.endian(r[e]);return r},randomBytes:function(r){for(var e=[];r>0;r--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(r){for(var e=[],n=0,t=0;n<r.length;n++,t+=8)e[t>>>5]|=r[n]<<24-t%32;return e},wordsToBytes:function(r){for(var e=[],n=0;n<32*r.length;n+=8)e.push(r[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(r){for(var e=[],n=0;n<r.length;n++)e.push((r[n]>>>4).toString(16)),e.push((15&r[n]).toString(16));return e.join("")},hexToBytes:function(r){for(var e=[],n=0;n<r.length;n+=2)e.push(parseInt(r.substr(n,2),16));return e},bytesToBase64:function(r){for(var n=[],t=0;t<r.length;t+=3)for(var o=r[t]<<16|r[t+1]<<8|r[t+2],i=0;i<4;i++)8*t+6*i<=8*r.length?n.push(e.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],t=0,o=0;t<r.length;o=++t%4)0!=o&&n.push((e.indexOf(r.charAt(t-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(r.charAt(t))>>>6-2*o);return n}};r.exports=n}()}),Q={utf8:{stringToBytes:function(r){return Q.bin.stringToBytes(unescape(encodeURIComponent(r)))},bytesToString:function(r){return decodeURIComponent(escape(Q.bin.bytesToString(r)))}},bin:{stringToBytes:function(r){for(var e=[],n=0;n<r.length;n++)e.push(255&r.charCodeAt(n));return e},bytesToString:function(r){for(var e=[],n=0;n<r.length;n++)e.push(String.fromCharCode(r[n]));return e.join("")}}},rr=Q,er=function(r){return null!=r&&(u(r)||s(r)||!!r._isBuffer)},nr=i(function(r){!function(){var e=K,n=rr.utf8,t=er,o=rr.bin,i=function r(i,a){i.constructor==String?i=a&&"binary"===a.encoding?o.stringToBytes(i):n.stringToBytes(i):t(i)?i=Array.prototype.slice.call(i,0):Array.isArray(i)||(i=i.toString());for(var u=e.bytesToWords(i),s=8*i.length,f=1732584193,c=-271733879,l=-1732584194,p=271733878,h=0;h<u.length;h++)u[h]=16711935&(u[h]<<8|u[h]>>>24)|4278255360&(u[h]<<24|u[h]>>>8);u[s>>>5]|=128<<s%32,u[14+(s+64>>>9<<4)]=s;for(var v=r._ff,y=r._gg,d=r._hh,g=r._ii,h=0;h<u.length;h+=16){var m=f,b=c,w=l,j=p;c=g(c=g(c=g(c=g(c=d(c=d(c=d(c=d(c=y(c=y(c=y(c=y(c=v(c=v(c=v(c=v(c,l=v(l,p=v(p,f=v(f,c,l,p,u[h+0],7,-680876936),c,l,u[h+1],12,-389564586),f,c,u[h+2],17,606105819),p,f,u[h+3],22,-1044525330),l=v(l,p=v(p,f=v(f,c,l,p,u[h+4],7,-176418897),c,l,u[h+5],12,1200080426),f,c,u[h+6],17,-1473231341),p,f,u[h+7],22,-45705983),l=v(l,p=v(p,f=v(f,c,l,p,u[h+8],7,1770035416),c,l,u[h+9],12,-1958414417),f,c,u[h+10],17,-42063),p,f,u[h+11],22,-1990404162),l=v(l,p=v(p,f=v(f,c,l,p,u[h+12],7,1804603682),c,l,u[h+13],12,-40341101),f,c,u[h+14],17,-1502002290),p,f,u[h+15],22,1236535329),l=y(l,p=y(p,f=y(f,c,l,p,u[h+1],5,-165796510),c,l,u[h+6],9,-1069501632),f,c,u[h+11],14,643717713),p,f,u[h+0],20,-373897302),l=y(l,p=y(p,f=y(f,c,l,p,u[h+5],5,-701558691),c,l,u[h+10],9,38016083),f,c,u[h+15],14,-660478335),p,f,u[h+4],20,-405537848),l=y(l,p=y(p,f=y(f,c,l,p,u[h+9],5,568446438),c,l,u[h+14],9,-1019803690),f,c,u[h+3],14,-187363961),p,f,u[h+8],20,1163531501),l=y(l,p=y(p,f=y(f,c,l,p,u[h+13],5,-1444681467),c,l,u[h+2],9,-51403784),f,c,u[h+7],14,1735328473),p,f,u[h+12],20,-1926607734),l=d(l,p=d(p,f=d(f,c,l,p,u[h+5],4,-378558),c,l,u[h+8],11,-2022574463),f,c,u[h+11],16,1839030562),p,f,u[h+14],23,-35309556),l=d(l,p=d(p,f=d(f,c,l,p,u[h+1],4,-1530992060),c,l,u[h+4],11,1272893353),f,c,u[h+7],16,-155497632),p,f,u[h+10],23,-1094730640),l=d(l,p=d(p,f=d(f,c,l,p,u[h+13],4,681279174),c,l,u[h+0],11,-358537222),f,c,u[h+3],16,-722521979),p,f,u[h+6],23,76029189),l=d(l,p=d(p,f=d(f,c,l,p,u[h+9],4,-640364487),c,l,u[h+12],11,-421815835),f,c,u[h+15],16,530742520),p,f,u[h+2],23,-995338651),l=g(l,p=g(p,f=g(f,c,l,p,u[h+0],6,-198630844),c,l,u[h+7],10,1126891415),f,c,u[h+14],15,-1416354905),p,f,u[h+5],21,-57434055),l=g(l,p=g(p,f=g(f,c,l,p,u[h+12],6,1700485571),c,l,u[h+3],10,-1894986606),f,c,u[h+10],15,-1051523),p,f,u[h+1],21,-2054922799),l=g(l,p=g(p,f=g(f,c,l,p,u[h+8],6,1873313359),c,l,u[h+15],10,-30611744),f,c,u[h+6],15,-1560198380),p,f,u[h+13],21,1309151649),l=g(l,p=g(p,f=g(f,c,l,p,u[h+4],6,-145523070),c,l,u[h+11],10,-1120210379),f,c,u[h+2],15,718787259),p,f,u[h+9],21,-343485551),f=f+m>>>0,c=c+b>>>0,l=l+w>>>0,p=p+j>>>0}return e.endian([f,c,l,p])};i._ff=function(r,e,n,t,o,i,a){var u=r+(e&n|~e&t)+(o>>>0)+a;return(u<<i|u>>>32-i)+e},i._gg=function(r,e,n,t,o,i,a){var u=r+(e&t|n&~t)+(o>>>0)+a;return(u<<i|u>>>32-i)+e},i._hh=function(r,e,n,t,o,i,a){var u=r+(e^n^t)+(o>>>0)+a;return(u<<i|u>>>32-i)+e},i._ii=function(r,e,n,t,o,i,a){var u=r+(n^(e|~t))+(o>>>0)+a;return(u<<i|u>>>32-i)+e},i._blocksize=16,i._digestsize=16,r.exports=function(r,n){if(void 0===r||null===r)throw new Error("Illegal argument "+r);var t=e.wordsToBytes(i(r,n));return n&&n.asBytes?t:n&&n.asString?o.bytesToString(t):e.bytesToHex(t)}}()}),tr={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},or=function(r){throw{name:"SyntaxError",message:r,at:J,text:H}},ir=function(r){return r&&r!==L&&or("Expected '"+r+"' instead of '"+L+"'"),L=H.charAt(J),J+=1,L},ar=function(){var r,e="";for("-"===L&&(e="-",ir("-"));L>="0"&&L<="9";)e+=L,ir();if("."===L)for(e+=".";ir()&&L>="0"&&L<="9";)e+=L;if("e"===L||"E"===L)for(e+=L,ir(),"-"!==L&&"+"!==L||(e+=L,ir());L>="0"&&L<="9";)e+=L,ir();if(r=+e,isFinite(r))return r;or("Bad number")},ur=function(){var r,e,n,t="";if('"'===L)for(;ir();){if('"'===L)return ir(),t;if("\\"===L)if(ir(),"u"===L){for(n=0,e=0;e<4&&(r=parseInt(ir(),16),isFinite(r));e+=1)n=16*n+r;t+=String.fromCharCode(n)}else{if("string"!=typeof tr[L])break;t+=tr[L]}else t+=L}or("Bad string")},sr=function(){for(;L&&L<=" ";)ir()},fr=function(){switch(L){case"t":return ir("t"),ir("r"),ir("u"),ir("e"),!0;case"f":return ir("f"),ir("a"),ir("l"),ir("s"),ir("e"),!1;case"n":return ir("n"),ir("u"),ir("l"),ir("l"),null}or("Unexpected '"+L+"'")},cr=function(){var r=[];if("["===L){if(ir("["),sr(),"]"===L)return ir("]"),r;for(;L;){if(r.push(V()),sr(),"]"===L)return ir("]"),r;ir(","),sr()}}or("Bad array")},lr=function(){var r,e={};if("{"===L){if(ir("{"),sr(),"}"===L)return ir("}"),e;for(;L;){if(r=ur(),sr(),ir(":"),Object.hasOwnProperty.call(e,r)&&or('Duplicate key "'+r+'"'),e[r]=V(),sr(),"}"===L)return ir("}"),e;ir(","),sr()}}or("Bad object")};V=function(){switch(sr(),L){case"{":return lr();case"[":return cr();case'"':return ur();case"-":return ar();default:return L>="0"&&L<="9"?ar():fr()}};var pr,hr,vr,yr=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,dr={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},gr={parse:function(r,e){var n;return H=r,J=0,L=" ",n=V(),sr(),L&&or("Syntax error"),"function"==typeof e?function r(n,t){var o,i,a=n[t];if(a&&"object"===(void 0===a?"undefined":C(a)))for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(void 0!==(i=r(a,o))?a[o]=i:delete a[o]);return e.call(n,t,a)}({"":n},""):n},stringify:function(r,e,n){var t;if(pr="",hr="","number"==typeof n)for(t=0;t<n;t+=1)hr+=" ";else"string"==typeof n&&(hr=n);if(vr=e,e&&"function"!=typeof e&&("object"!==(void 0===e?"undefined":C(e))||"number"!=typeof e.length))throw new Error("JSON.stringify");return c("",{"":r})}},mr="undefined"!=typeof JSON?JSON:gr,br=function(r,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var n=e.space||"";"number"==typeof n&&(n=Array(n+1).join(" "));var t="boolean"==typeof e.cycles&&e.cycles,o=e.replacer||function(r,e){return e},i=e.cmp&&function(r){return function(e){return function(n,t){var o={key:n,value:e[n]},i={key:t,value:e[t]};return r(o,i)}}}(e.cmp),a=[];return function r(e,u,s,f){var c=n?"\n"+new Array(f+1).join(n):"",l=n?": ":":";if(s&&s.toJSON&&"function"==typeof s.toJSON&&(s=s.toJSON()),void 0!==(s=o.call(e,u,s))){if("object"!==(void 0===s?"undefined":C(s))||null===s)return mr.stringify(s);if(wr(s)){for(var p=[],h=0;h<s.length;h++){var v=r(s,h,s[h],f+1)||mr.stringify(null);p.push(c+n+v)}return"["+p.join(",")+c+"]"}if(-1!==a.indexOf(s)){if(t)return mr.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}a.push(s);for(var y=jr(s).sort(i&&i(s)),p=[],h=0;h<y.length;h++){var d=r(s,u=y[h],s[u],f+1);if(d){var g=mr.stringify(u)+l+d;p.push(c+n+g)}}return a.splice(a.indexOf(s),1),"{"+p.join(",")+c+"}"}}({"":r},"",r,0)},wr=Array.isArray||function(r){return"[object Array]"==={}.toString.call(r)},jr=Object.keys||function(r){var e=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var t in r)e.call(r,t)&&n.push(t);return n};Object.setPrototypeOf(l,Error),(l.prototype=Object.create(Error.prototype)).name="ImplementationError",l.prototype.message="",l.prototype.constructor=l;var Ar=Math.PI/180,Sr=180/Math.PI,xr={lerp:function(r,e,n){return r+(e-r)*n},constrain:p,map:function(r,e,n,t,o){return t+(r-e)/(n-e)*(o-t)},wrap:function(r,e,n){return r<e?n-(e-r)%(n-e):e+(r-e)%(n-e)},radians:function(r){return r*Ar},degrees:function(r){return r*Sr},fract:function(r){return r-Math.floor(r)},mod:function(r,e){return r-e*Math.floor(r/e)},step:function(r,e){return e<r?0:1},smoothstep:function(r,e,n){var t=p((n-r)/(e-r),0,1);return t*t*(3-2*t)}},Or=function(r){function e(r,e){function n(){if(c>=f)return u;if(o)return o=!1,a;var e,n=c;if(34===r.charCodeAt(n)){for(var t=n;t++<f;)if(34===r.charCodeAt(t)){if(34!==r.charCodeAt(t+1))break;++t}return c=t+2,13===(e=r.charCodeAt(t+1))?(o=!0,10===r.charCodeAt(t+2)&&++c):10===e&&(o=!0),r.slice(n+1,t).replace(/""/g,'"')}for(;c<f;){var s=1;if(10===(e=r.charCodeAt(c++)))o=!0;else if(13===e)o=!0,10===r.charCodeAt(c)&&(++c,++s);else if(e!==i)continue;return r.slice(n,c-s)}return r.slice(n)}for(var t,o,a={},u={},s=[],f=r.length,c=0,l=0;(t=n())!==u;){for(var p=[];t!==a&&t!==u;)p.push(t),t=n();e&&null==(p=e(p,l++))||s.push(p)}return s}function n(e){return e.map(t).join(r)}function t(r){return null==r?"":o.test(r+="")?'"'+r.replace(/\"/g,'""')+'"':r}var o=new RegExp('["'+r+"\n\r]"),i=r.charCodeAt(0);return{parse:function(r,n){var t,o,i=e(r,function(r,e){if(t)return t(r,e-1);o=r,t=n?v(r,n):h(r)});return i.columns=o,i},parseRows:e,format:function(e,n){return null==n&&(n=y(e)),[n.map(t).join(r)].concat(e.map(function(e){return n.map(function(r){return t(e[r])}).join(r)})).join("\n")},formatRows:function(r){return r.map(n).join("\n")}}},Er=Or(",").parse,kr=Or("\t").parse,Cr=function(r,e){if(e=e.split(":")[0],!(r=+r))return!1;switch(e){case"http":case"ws":return 80!==r;case"https":case"wss":return 443!==r;case"ftp":return 21!==r;case"gopher":return 70!==r;case"file":return!1}return 0!==r},Tr=Object.prototype.hasOwnProperty,qr={stringify:function(r,e){var n=[];"string"!=typeof(e=e||"")&&(e="?");for(var t in r)Tr.call(r,t)&&n.push(encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return n.length?e+n.join("&"):""},parse:function(r){for(var e,n=/([^=?&]+)=?([^&]*)/g,t={};e=n.exec(r);t[d(e[1])]=d(e[2]));return t}},Ir=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,Pr=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Nr=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Br={hash:1,query:1};w.prototype={set:function(r,e,n){var t=this;switch(r){case"query":"string"==typeof e&&e.length&&(e=(n||qr.parse)(e)),t[r]=e;break;case"port":t[r]=e,Cr(e,t.protocol)?e&&(t.host=t.hostname+":"+e):(t.host=t.hostname,t[r]="");break;case"hostname":t[r]=e,t.port&&(e+=":"+t.port),t.host=e;break;case"host":t[r]=e,/:\d+$/.test(e)?(e=e.split(":"),t.port=e.pop(),t.hostname=e.join(":")):(t.hostname=e,t.port="");break;case"protocol":t.protocol=e.toLowerCase(),t.slashes=!n;break;case"pathname":t.pathname=e.length&&"/"!==e.charAt(0)?"/"+e:e;break;default:t[r]=e}for(var o=0;o<Nr.length;o++){var i=Nr[o];i[4]&&(t[i[1]]=t[i[1]].toLowerCase())}return t.origin=t.protocol&&t.host&&"file:"!==t.protocol?t.protocol+"//"+t.host:"null",t.href=t.toString(),t},toString:function(r){r&&"function"==typeof r||(r=qr.stringify);var e,n=this,t=n.protocol;t&&":"!==t.charAt(t.length-1)&&(t+=":");var o=t+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(e="object"===C(n.query)?r(n.query):n.query)&&(o+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(o+=n.hash),o}},w.extractProtocol=m,w.location=g,w.qs=qr;var _r,Fr=w,Rr=Z.node("fs").readFile,Ur=Z.node("request"),Mr={text:function(){var r=x.apply(void 0,arguments),e=P(r,2),n=e[0],t=e[1];return t.type="text",S(n,t)},json:function(){var r=x.apply(void 0,arguments),e=P(r,2),n=e[0],t=e[1];return t.type="json",S(n,t)},buffer:function(){var r=x.apply(void 0,arguments),e=P(r,2),n=e[0],t=e[1];return t.type="arraybuffer",t.encoding=null,S(n,t)},csv:function(){var r=x.apply(void 0,arguments),e=P(r,2),n=e[0],t=e[1];return this.text(n,t).then(function(r){return Er(r,t.row)})},tsv:function(){var r=x.apply(void 0,arguments),e=P(r,2),n=e[0],t=e[1];return this.text(n,t).then(function(r){return kr(r,t.row)})}},zr=e("Semaphore"),Jr=function r(e,n){var t=this;T(this,r);var o=[new Promise(function(r,e){t.resolve=r,t.reject=e}),new Promise(function(r){t.let=r}).then(function(){n(t.resolve,t.reject)})];this.promise=Promise.all(o).then(function(r){return e.signal(),r[0]},function(r){return e.signal(),Promise.reject(r)})},Lr=function(){function r(e){T(this,r);var n=zr(this);n.capacity=e,n.available=e,n.queue=[]}return q(r,[{key:"wait",value:function(r){var e=zr(this),n=new Jr(this,r);return 0===e.available?e.queue.push(n):(--e.available,n.let()),n.promise}},{key:"signal",value:function(){var r=zr(this);0===r.queue.length?++r.available:r.queue.shift().let()}},{key:"capacity",get:function(){return zr(this).capacity}},{key:"available",get:function(){return zr(this).available}}]),r}(),Hr={forEach:function(r,e,n){for(var t=O(r)?k:E,o=r.length-r.length%e,i=0,a=0;i<o;i+=e,++a)n(t(r,i,i+e),a)},some:function(r,e,n){for(var t=r.length-r.length%e,o=O(r)?k:E,i=0,a=0;i<t;i+=e,++a)if(n(o(r,i,i+e),a))return!0;return!1},every:function(r,e,n){for(var t=r.length-r.length%e,o=O(r)?k:E,i=0,a=0;i<t;i+=e,++a)if(!n(o(r,i,i+e),a))return!1;return!0},reduce:function(r,e,n,t){for(var o=t,i=r.length-r.length%e,a=O(r)?k:E,u=0,s=0;u<i;u+=e,++s)o=n(o,a(r,u,u+e),s);return o},set:function(r,e,n){var t=r.length-r.length%e;if(O(r))for(var o=0;o<t;o+=e)r.set(n,o);else for(var i=0;i<t;i+=e)for(var a=0;a<e;++a)r[i+a]=n[a];return r},transform:function(r,e,n){var t=r.length-r.length%e;if(O(r))for(var o=0,i=0;o<t;o+=e,++i){var a=n(r.slice(o,o+e),i);r.set(a,o)}else for(var u=0,s=0;u<t;u+=e,++s)for(var f=0;f<e;++f){var c=n(r.slice(u,u+e),s);r[u+f]=c[f]}return r}},Vr=W.crypto||W.msCrypto;if(Vr&&Vr.getRandomValues){var Dr=new Uint8Array(16);_r=function(){return Vr.getRandomValues(Dr),Dr}}if(!_r){var Zr=new Array(16);_r=function(){for(var r,e=0;e<16;e++)0==(3&e)&&(r=4294967296*Math.random()),Zr[e]=r>>>((3&e)<<3)&255;return Zr}}for(var Wr=_r,Yr=[],$r=0;$r<256;++$r)Yr[$r]=($r+256).toString(16).substr(1);var Gr=function(r,e){var n=e||0,t=Yr;return t[r[n++]]+t[r[n++]]+t[r[n++]]+t[r[n++]]+"-"+t[r[n++]]+t[r[n++]]+"-"+t[r[n++]]+t[r[n++]]+"-"+t[r[n++]]+t[r[n++]]+"-"+t[r[n++]]+t[r[n++]]+t[r[n++]]+t[r[n++]]+t[r[n++]]+t[r[n++]]},Xr=Wr(),Kr=[1|Xr[0],Xr[1],Xr[2],Xr[3],Xr[4],Xr[5]],Qr=16383&(Xr[6]<<8|Xr[7]),re=0,ee=0,ne=function(r,e,n){var t=e&&n||0;"string"==typeof r&&(e="binary"==r?new Array(16):null,r=null);var o=(r=r||{}).random||(r.rng||Wr)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var i=0;i<16;++i)e[t+i]=o[i];return e||Gr(o)},te=ne;te.v1=function(r,e,n){var t=e&&n||0,o=e||[],i=void 0!==(r=r||{}).clockseq?r.clockseq:Qr,a=void 0!==r.msecs?r.msecs:(new Date).getTime(),u=void 0!==r.nsecs?r.nsecs:ee+1,s=a-re+(u-ee)/1e4;if(s<0&&void 0===r.clockseq&&(i=i+1&16383),(s<0||a>re)&&void 0===r.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");re=a,ee=u,Qr=i;var f=(1e4*(268435455&(a+=122192928e5))+u)%4294967296;o[t++]=f>>>24&255,o[t++]=f>>>16&255,o[t++]=f>>>8&255,o[t++]=255&f;var c=a/4294967296*1e4&268435455;o[t++]=c>>>8&255,o[t++]=255&c,o[t++]=c>>>24&15|16,o[t++]=c>>>16&255,o[t++]=i>>>8|128,o[t++]=255&i;for(var l=r.node||Kr,p=0;p<6;++p)o[t+p]=l[p];return e||Gr(o)},te.v4=ne;var oe=te.v4;r.Aggregate=R,r.AggregateFunction=_,r.Array=U,r.AssertionError=n,r.Environment=D,r.External=Z,r.FilePath=X,r.Hash=function(r){return nr(br(r))},r.ImplementationError=l,r.Math=xr,r.Namespace=e,r.Request=Mr,r.Semaphore=Lr,r.Stride=Hr,r.URL=Fr,r.UUID=oe,Object.defineProperty(r,"__esModule",{value:!0})});